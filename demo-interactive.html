<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>YellowGrid Interactive Demo - Walk Through Real Workflows</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --yellow: #ffcb32;
      --yellow-soft: #ffe79a;
      --bg-dark: #0f1722;
      --bg-darker: #070c12;
      --bg-alt: #131b26;
      --card-bg: #161f2b;
      --accent-green: #46d38a;
      --accent-blue: #4a9eff;
      --accent-purple: #a78bfa;
      --accent-orange: #fb923c;
      --accent-red: #ff6b6b;
      --text-main: #e5ecf7;
      --text-muted: #9ba4b5;
      --border-subtle: #222b39;
      --shadow-soft: 0 22px 45px rgba(0, 0, 0, 0.45);
      --radius-lg: 18px;
      --radius-xl: 24px;
      --radius-pill: 999px;
      --transition-fast: 0.18s ease-out;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #172133 0, #05070b 55%);
      color: var(--text-main);
      line-height: 1.5;
      -webkit-font-smoothing: antialiased;
      min-height: 100vh;
    }

    .container {
      max-width: 1600px;
      margin: 0 auto;
      padding: 2rem 1.5rem;
    }

    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
      padding-bottom: 1.5rem;
      border-bottom: 1px solid var(--border-subtle);
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .logo-mark {
      width: 40px;
      height: 40px;
      border-radius: 12px;
      background: linear-gradient(135deg, var(--yellow), #ffdf80);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 10px 25px rgba(255, 203, 50, 0.45);
      font-weight: 700;
      color: #1b1305;
      font-size: 1.2rem;
    }

    .logo-text h1 {
      font-size: 1.3rem;
      font-weight: 650;
    }

    .logo-text p {
      font-size: 0.75rem;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.15em;
    }

    .back-link {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      color: var(--text-muted);
      text-decoration: none;
      padding: 0.5rem 1rem;
      border-radius: var(--radius-pill);
      transition: all var(--transition-fast);
      font-size: 0.9rem;
    }

    .back-link:hover {
      background: rgba(255, 203, 50, 0.1);
      color: var(--yellow);
    }

    .demo-intro {
      text-align: center;
      margin-bottom: 3rem;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
    }

    .demo-intro h2 {
      font-size: 2.2rem;
      margin-bottom: 0.75rem;
      line-height: 1.1;
    }

    .demo-intro p {
      color: var(--text-muted);
      font-size: 1.05rem;
      line-height: 1.6;
    }

    .interactive-notice {
      background: linear-gradient(135deg, rgba(255, 203, 50, 0.15), rgba(255, 203, 50, 0.05));
      border: 2px solid rgba(255, 203, 50, 0.3);
      border-radius: var(--radius-xl);
      padding: 1.5rem 2rem;
      margin-bottom: 3rem;
      text-align: center;
    }

    .interactive-notice h3 {
      font-size: 1.1rem;
      margin-bottom: 0.5rem;
      color: var(--yellow);
    }

    .interactive-notice p {
      color: var(--text-main);
      font-size: 0.95rem;
    }

    /* Scenario Selection */
    .scenario-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.5rem;
      margin-bottom: 3rem;
    }

    .scenario-card {
      background: var(--card-bg);
      border: 2px solid var(--border-subtle);
      border-radius: var(--radius-xl);
      padding: 1.75rem;
      cursor: pointer;
      transition: all var(--transition-fast);
      position: relative;
      overflow: hidden;
    }

    .scenario-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--accent-green), #4ade80);
    }

    .scenario-card.complex::before {
      background: linear-gradient(90deg, var(--accent-purple), #c4b5fd);
    }

    .scenario-card:hover {
      transform: translateY(-4px);
      border-color: var(--yellow);
      box-shadow: 0 12px 40px rgba(255, 203, 50, 0.2);
    }

    .scenario-icon {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }

    .scenario-card h3 {
      font-size: 1.15rem;
      margin-bottom: 0.5rem;
    }

    .scenario-card p {
      color: var(--text-muted);
      font-size: 0.9rem;
      margin-bottom: 1rem;
      line-height: 1.5;
    }

    .scenario-badge {
      display: inline-block;
      padding: 0.3rem 0.75rem;
      border-radius: var(--radius-pill);
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .badge-simple {
      background: rgba(70, 211, 138, 0.2);
      color: var(--accent-green);
    }

    .badge-complex {
      background: rgba(167, 139, 250, 0.2);
      color: var(--accent-purple);
    }

    /* Interactive Demo Area */
    .demo-area {
      display: none;
      animation: fadeInUp 0.4s ease-out;
    }

    .demo-area.active {
      display: block;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .demo-controls {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
      padding: 1.25rem 1.5rem;
      background: var(--bg-alt);
      border-radius: var(--radius-lg);
      border: 1px solid var(--border-subtle);
    }

    .demo-title-area h2 {
      font-size: 1.5rem;
      margin-bottom: 0.25rem;
    }

    .demo-title-area p {
      color: var(--text-muted);
      font-size: 0.9rem;
    }

    .btn {
      padding: 0.65rem 1.4rem;
      border-radius: var(--radius-pill);
      border: none;
      cursor: pointer;
      font-size: 0.9rem;
      font-weight: 600;
      transition: all var(--transition-fast);
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--yellow), #ffd769);
      color: #1b1305;
      box-shadow: 0 4px 12px rgba(255, 203, 50, 0.3);
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(255, 203, 50, 0.4);
    }

    .btn-secondary {
      background: var(--card-bg);
      color: var(--text-main);
      border: 1px solid var(--border-subtle);
    }

    .btn-secondary:hover {
      background: var(--bg-alt);
      border-color: var(--yellow);
    }

    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    /* Progress Bar */
    .progress-container {
      margin-bottom: 2rem;
    }

    .progress-bar {
      height: 6px;
      background: var(--bg-alt);
      border-radius: 999px;
      overflow: hidden;
      margin-bottom: 1rem;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--yellow), #ffd769);
      border-radius: 999px;
      transition: width 0.5s ease-out;
    }

    .progress-steps {
      display: flex;
      justify-content: space-between;
      gap: 0.5rem;
    }

    .progress-step {
      flex: 1;
      text-align: center;
      font-size: 0.75rem;
      color: var(--text-muted);
      padding: 0.5rem;
      border-radius: 8px;
      transition: all var(--transition-fast);
    }

    .progress-step.active {
      background: rgba(255, 203, 50, 0.1);
      color: var(--yellow);
      font-weight: 600;
    }

    .progress-step.completed {
      color: var(--accent-green);
    }

    /* Main Demo Layout */
    .demo-layout {
      display: grid;
      grid-template-columns: 1fr 1.2fr;
      gap: 2rem;
      margin-bottom: 2rem;
    }

    @media (max-width: 1024px) {
      .demo-layout {
        grid-template-columns: 1fr;
      }
    }

    .stakeholder-view {
      background: var(--card-bg);
      border: 1px solid var(--border-subtle);
      border-radius: var(--radius-xl);
      overflow: hidden;
    }

    .view-header {
      padding: 1.25rem 1.5rem;
      border-bottom: 1px solid var(--border-subtle);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .view-title {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .view-icon {
      width: 40px;
      height: 40px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.3rem;
      background: rgba(255, 203, 50, 0.15);
      border: 1px solid rgba(255, 203, 50, 0.3);
    }

    .view-title h3 {
      font-size: 1.1rem;
    }

    .view-title p {
      font-size: 0.8rem;
      color: var(--text-muted);
    }

    .view-badge {
      padding: 0.35rem 0.85rem;
      border-radius: var(--radius-pill);
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
    }

    .badge-customer {
      background: rgba(74, 158, 255, 0.2);
      color: var(--accent-blue);
    }

    .badge-crew {
      background: rgba(251, 146, 60, 0.2);
      color: var(--accent-orange);
    }

    .badge-operator {
      background: rgba(167, 139, 250, 0.2);
      color: var(--accent-purple);
    }

    .view-content {
      padding: 1.5rem;
    }

    /* Mobile App Mockup */
    .mobile-mockup {
      background: #000;
      border-radius: 30px;
      padding: 12px;
      max-width: 360px;
      margin: 0 auto;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
    }

    .mobile-screen {
      background: var(--bg-darker);
      border-radius: 20px;
      overflow: hidden;
    }

    .mobile-status-bar {
      height: 44px;
      background: linear-gradient(to bottom, rgba(0, 0, 0, 0.8), transparent);
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 1.5rem;
      font-size: 0.75rem;
    }

    .mobile-content {
      padding: 1rem;
      min-height: 500px;
    }

    .mobile-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
    }

    .mobile-header h4 {
      font-size: 1.3rem;
    }

    .notification-badge {
      background: var(--accent-red);
      color: white;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.75rem;
      font-weight: 700;
    }

    /* Job Card in Mobile */
    .job-card-mobile {
      background: var(--card-bg);
      border: 1px solid var(--border-subtle);
      border-radius: 16px;
      padding: 1.25rem;
      margin-bottom: 1rem;
    }

    .job-card-mobile h5 {
      font-size: 1rem;
      margin-bottom: 0.75rem;
    }

    .job-detail-row {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 0.5rem;
      font-size: 0.85rem;
      color: var(--text-muted);
    }

    .job-actions {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 0.75rem;
      margin-top: 1rem;
    }

    .btn-mobile {
      padding: 0.75rem 1rem;
      border-radius: 12px;
      border: none;
      font-size: 0.85rem;
      font-weight: 600;
      cursor: pointer;
      transition: all var(--transition-fast);
    }

    .btn-mobile-primary {
      background: var(--accent-green);
      color: white;
    }

    .btn-mobile-secondary {
      background: var(--bg-alt);
      color: var(--text-main);
      border: 1px solid var(--border-subtle);
    }

    /* Operator Dashboard */
    .dashboard-grid {
      display: grid;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }

    .stat-card {
      background: var(--bg-alt);
      border: 1px solid var(--border-subtle);
      border-radius: 12px;
      padding: 1.25rem;
    }

    .stat-label {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--text-muted);
      margin-bottom: 0.5rem;
    }

    .stat-value {
      font-size: 2rem;
      font-weight: 700;
      color: var(--text-main);
    }

    .stat-change {
      font-size: 0.85rem;
      margin-top: 0.5rem;
    }

    .stat-positive {
      color: var(--accent-green);
    }

    .stat-negative {
      color: var(--accent-red);
    }

    /* Service Order Table */
    .so-table {
      width: 100%;
      border-collapse: collapse;
    }

    .so-table th {
      text-align: left;
      padding: 0.75rem 1rem;
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--text-muted);
      border-bottom: 1px solid var(--border-subtle);
    }

    .so-table td {
      padding: 1rem;
      border-bottom: 1px solid var(--border-subtle);
      font-size: 0.9rem;
    }

    .so-table tr:hover {
      background: rgba(255, 203, 50, 0.05);
    }

    .status-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      display: inline-block;
      margin-right: 0.5rem;
    }

    .dot-green {
      background: var(--accent-green);
    }

    .dot-orange {
      background: var(--accent-orange);
    }

    .dot-blue {
      background: var(--accent-blue);
    }

    .dot-red {
      background: var(--accent-red);
    }

    /* Notification Toast */
    .notification-toast {
      position: fixed;
      top: 2rem;
      right: 2rem;
      background: var(--card-bg);
      border: 1px solid var(--border-subtle);
      border-radius: var(--radius-lg);
      padding: 1.25rem 1.5rem;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
      max-width: 400px;
      transform: translateX(500px);
      transition: transform 0.3s ease-out;
      z-index: 1000;
    }

    .notification-toast.show {
      transform: translateX(0);
    }

    .notification-header {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin-bottom: 0.5rem;
    }

    .notification-icon {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
      background: rgba(70, 211, 138, 0.2);
    }

    .notification-title {
      font-size: 1rem;
      font-weight: 600;
    }

    .notification-body {
      font-size: 0.9rem;
      color: var(--text-muted);
      margin-bottom: 0.75rem;
    }

    .notification-action {
      font-size: 0.85rem;
      color: var(--yellow);
      cursor: pointer;
      font-weight: 600;
    }

    .notification-action:hover {
      text-decoration: underline;
    }

    /* Customer Portal */
    .customer-card {
      background: var(--bg-alt);
      border-radius: 16px;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
    }

    .appointment-header {
      display: flex;
      justify-content: space-between;
      align-items: start;
      margin-bottom: 1.25rem;
    }

    .appointment-date {
      font-size: 2rem;
      font-weight: 700;
      color: var(--yellow);
    }

    .appointment-month {
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--text-muted);
    }

    .tracking-timeline {
      position: relative;
      padding-left: 2rem;
    }

    .tracking-timeline::before {
      content: '';
      position: absolute;
      left: 0.5rem;
      top: 0;
      bottom: 0;
      width: 2px;
      background: linear-gradient(to bottom, var(--accent-green), var(--border-subtle));
    }

    .tracking-step {
      position: relative;
      margin-bottom: 1.5rem;
    }

    .tracking-step::before {
      content: '';
      position: absolute;
      left: -1.5rem;
      top: 0.25rem;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: var(--accent-green);
      box-shadow: 0 0 0 4px rgba(70, 211, 138, 0.2);
    }

    .tracking-step.pending::before {
      background: var(--border-subtle);
      box-shadow: 0 0 0 4px rgba(34, 43, 57, 0.5);
    }

    .tracking-step h5 {
      font-size: 0.95rem;
      margin-bottom: 0.25rem;
    }

    .tracking-step p {
      font-size: 0.85rem;
      color: var(--text-muted);
    }

    .tracking-step small {
      font-size: 0.75rem;
      color: var(--text-muted);
    }

    /* Info Panel */
    .info-panel {
      background: rgba(74, 158, 255, 0.1);
      border-left: 4px solid var(--accent-blue);
      padding: 1.25rem;
      border-radius: 8px;
      margin-bottom: 1.5rem;
    }

    .info-panel h4 {
      font-size: 1rem;
      margin-bottom: 0.5rem;
      color: var(--accent-blue);
    }

    .info-panel p {
      font-size: 0.9rem;
      color: var(--text-main);
      line-height: 1.6;
    }

    .action-buttons {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }

    /* Animations */
    .pulse {
      animation: pulse 2s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% {
        opacity: 1;
      }
      50% {
        opacity: 0.6;
      }
    }

    .fade-in {
      animation: fadeIn 0.4s ease-out;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="logo">
        <div class="logo-mark">YG</div>
        <div class="logo-text">
          <h1>YellowGrid Interactive Demo</h1>
          <p>Experience the Platform</p>
        </div>
      </div>
      <a href="index.html" class="back-link">
        ‚Üê Back to Home
      </a>
    </div>

    <div class="demo-intro">
      <h2>Step Into Each Stakeholder's Shoes</h2>
      <p>Experience YellowGrid from three perspectives: see what customers track, how crews work in the field, and what operators manage in the control tower. Click through real workflows step by step.</p>
    </div>

    <div class="interactive-notice">
      <h3>üéÆ Fully Interactive Demo</h3>
      <p>Click buttons, advance through steps, and see how actions trigger the next stakeholder in real-time</p>
    </div>

    <!-- Scenario Selection -->
    <div id="scenarioSelection" class="scenario-grid">
      <div class="scenario-card" onclick="startDemo('simple')">
        <div class="scenario-icon">üîß</div>
        <h3>Simple Installation</h3>
        <p>Customer orders dishwasher. See the complete journey from order to installation and WCF signature.</p>
        <span class="scenario-badge badge-simple">Interactive</span>
      </div>

      <div class="scenario-card" onclick="startDemo('tvQuotation')">
        <div class="scenario-icon">üìê</div>
        <h3>Technical Visit & Quotation</h3>
        <p>Customer needs assessment. Technician measures, creates report, and generates detailed quotation.</p>
        <span class="scenario-badge badge-simple">Interactive</span>
      </div>

      <div class="scenario-card" onclick="startDemo('package')">
        <div class="scenario-icon">üõÅ</div>
        <h3>Package with TV Confirmation</h3>
        <p>Bathroom renovation requiring confirmation visit before installation begins.</p>
        <span class="scenario-badge badge-simple">Interactive</span>
      </div>

      <div class="scenario-card complex" onclick="startDemo('complex')">
        <div class="scenario-icon">üèóÔ∏è</div>
        <h3>Complex Multi-Service</h3>
        <p>Full kitchen renovation with 8 service orders, multiple crews, quality gates, and sequenced execution.</p>
        <span class="scenario-badge badge-complex">Interactive</span>
      </div>

      <div class="scenario-card" onclick="startDemo('rework')">
        <div class="scenario-icon">üîÑ</div>
        <h3>Rework Scenario</h3>
        <p>Installation fails WCF. See how the platform handles service recovery and customer satisfaction.</p>
        <span class="scenario-badge badge-simple">Interactive</span>
      </div>

      <div class="scenario-card complex" onclick="window.location.href='operator-cockpit.html'">
        <div class="scenario-icon">üéõÔ∏è</div>
        <h3>Operator Cockpit</h3>
        <p>Full CPC dashboard with KPIs, critical actions, priority tasks, AI assistant, and service execution management.</p>
        <span class="scenario-badge badge-complex">Full Experience</span>
      </div>

      <div class="scenario-card" onclick="window.location.href='crew-mobile-app.html'">
        <div class="scenario-icon">üì±</div>
        <h3>Crew Mobile App</h3>
        <p>Mobile interface for field technicians: job management, checklists, photo uploads, earnings tracking, and navigation.</p>
        <span class="scenario-badge badge-simple">Full Experience</span>
      </div>

      <div class="scenario-card" onclick="window.location.href='customer-portal.html'">
        <div class="scenario-icon">üë§</div>
        <h3>Customer Portal</h3>
        <p>Customer dashboard: track services, view history, manage payments, documents, messages, and chat support.</p>
        <span class="scenario-badge badge-simple">Full Experience</span>
      </div>
    </div>

    <!-- Interactive Demo Area - Simple Installation -->
    <div id="demoSimple" class="demo-area">
      <div class="demo-controls">
        <div class="demo-title-area">
          <h2>Simple Installation: Dishwasher</h2>
          <p>Complete workflow from customer order to signed WCF</p>
        </div>
        <div class="action-buttons">
          <button class="btn btn-secondary" onclick="resetDemo()">‚Üê Choose Different Scenario</button>
          <button class="btn btn-primary" onclick="nextStep()" id="nextBtn">
            Next Step ‚Üí
          </button>
        </div>
      </div>

      <!-- Progress Bar -->
      <div class="progress-container">
        <div class="progress-bar">
          <div class="progress-fill" id="progressFill" style="width: 0%"></div>
        </div>
        <div class="progress-steps">
          <div class="progress-step active" id="step0">Order</div>
          <div class="progress-step" id="step1">Matching</div>
          <div class="progress-step" id="step2">Schedule</div>
          <div class="progress-step" id="step3">Install</div>
          <div class="progress-step" id="step4">Complete</div>
        </div>
      </div>

      <!-- Current Step Content -->
      <div id="stepContent"></div>
    </div>

    <!-- Notification Toast -->
    <div class="notification-toast" id="notificationToast">
      <div class="notification-header">
        <div class="notification-icon" id="notifIcon">‚úì</div>
        <div>
          <div class="notification-title" id="notifTitle">Action Completed</div>
        </div>
      </div>
      <div class="notification-body" id="notifBody"></div>
      <div class="notification-action" id="notifAction"></div>
    </div>
  </div>

  <script>
    let currentStep = 0;
    let currentDemo = '';

    const stepContent = {
      simple: [
        // Step 0: Customer places order
        {
          title: "Customer Places Order",
          progress: 0,
          content: `
            <div class="demo-layout">
              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">üõí</div>
                    <div>
                      <h3>Customer View</h3>
                      <p>In-Store Experience</p>
                    </div>
                  </div>
                  <span class="view-badge badge-customer">Customer</span>
                </div>
                <div class="view-content">
                  <h4 style="margin-bottom: 1rem;">Purchase Summary</h4>

                  <div class="customer-card">
                    <h5 style="font-size: 1.1rem; margin-bottom: 0.75rem;">Bosch Serie 4 Dishwasher</h5>
                    <div class="job-detail-row">
                      <span>üì¶</span>
                      <span>Model: SMV4HTX31E</span>
                    </div>
                    <div class="job-detail-row">
                      <span>üí∞</span>
                      <span>Price: $899 + Installation $150</span>
                    </div>
                    <div class="job-detail-row">
                      <span>üìç</span>
                      <span>Delivery: 123 Main St, Apt 4B</span>
                    </div>
                    <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid var(--border-subtle);">
                      <p style="font-size: 0.9rem; color: var(--text-muted);">
                        ‚úì Professional installation included<br>
                        ‚úì You'll receive installation date within 24 hours
                      </p>
                    </div>
                  </div>

                  <div class="info-panel">
                    <h4>What happens next?</h4>
                    <p>Your installation is being automatically scheduled. You'll receive an SMS with your appointment details shortly.</p>
                  </div>
                </div>
              </div>

              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">üéØ</div>
                    <div>
                      <h3>Behind the Scenes</h3>
                      <p>YellowGrid Processing</p>
                    </div>
                  </div>
                  <span class="view-badge badge-operator">System</span>
                </div>
                <div class="view-content">
                  <h4 style="margin-bottom: 1rem;">Automated Workflow</h4>

                  <div class="tracking-timeline">
                    <div class="tracking-step">
                      <h5>‚úÖ Order Received</h5>
                      <p>POS system sent order to YellowGrid</p>
                      <small>2:30 PM</small>
                    </div>
                    <div class="tracking-step">
                      <h5>‚úÖ Service Order Created</h5>
                      <p>SO #45812 generated for dishwasher installation</p>
                      <small>2:30:15 PM</small>
                    </div>
                    <div class="tracking-step pending">
                      <h5>‚è≥ Crew Matching</h5>
                      <p>Finding qualified crew in Zone 2...</p>
                      <small>In progress...</small>
                    </div>
                  </div>

                  <div class="info-panel">
                    <h4>üí° What's Happening</h4>
                    <p>YellowGrid is analyzing available crews based on: location (Zone 2), skills (plumbing), certifications, and performance score. This happens automatically in seconds.</p>
                  </div>

                  <div class="action-buttons">
                    <button class="btn btn-primary" onclick="nextStep()">
                      üéØ Watch Crew Matching ‚Üí
                    </button>
                  </div>
                </div>
              </div>
            </div>
          `
        },
        // Step 1: Crew Matching
        {
          title: "Crew Matching & Assignment",
          progress: 25,
          notification: {
            title: "Crew Matched!",
            body: "Crew A from Provider L has been assigned to installation #45812",
            action: "View details"
          },
          content: `
            <div class="demo-layout">
              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">üéØ</div>
                    <div>
                      <h3>Operator View</h3>
                      <p>Matching Engine Results</p>
                    </div>
                  </div>
                  <span class="view-badge badge-operator">Operator</span>
                </div>
                <div class="view-content">
                  <h4 style="margin-bottom: 1rem;">Crew Matching Results</h4>

                  <table class="so-table">
                    <thead>
                      <tr>
                        <th>Crew</th>
                        <th>Zone</th>
                        <th>Score</th>
                        <th>Status</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr style="background: rgba(70, 211, 138, 0.1);">
                        <td><strong>Crew A - Provider L</strong></td>
                        <td>Zone 2 ‚úì</td>
                        <td><span style="color: var(--accent-green);">92/100</span></td>
                        <td><span class="status-dot dot-green"></span>Selected</td>
                      </tr>
                      <tr>
                        <td>Crew B - Provider M</td>
                        <td>Zone 2 ‚úì</td>
                        <td>87/100</td>
                        <td><span class="status-dot dot-orange"></span>Available</td>
                      </tr>
                      <tr style="opacity: 0.6;">
                        <td>Crew F - Provider K</td>
                        <td>Zone 3 ‚úó</td>
                        <td>89/100</td>
                        <td><span class="status-dot dot-red"></span>Filtered out</td>
                      </tr>
                    </tbody>
                  </table>

                  <div class="info-panel" style="margin-top: 1.5rem;">
                    <h4>Why Crew A?</h4>
                    <p>
                      <strong>Top scorer:</strong> 92/100 based on:<br>
                      ‚úì Zone 2 coverage (perfect match)<br>
                      ‚úì Plumbing skills certified<br>
                      ‚úì Performance: 96% on-time completion<br>
                      ‚úì Available Nov 18, 10:00 AM<br>
                      ‚úì No buffer violations
                    </p>
                  </div>
                </div>
              </div>

              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">üë∑</div>
                    <div>
                      <h3>Crew Notification</h3>
                      <p>Provider L Dashboard</p>
                    </div>
                  </div>
                  <span class="view-badge badge-crew">Crew</span>
                </div>
                <div class="view-content">
                  <div class="mobile-mockup">
                    <div class="mobile-screen">
                      <div class="mobile-status-bar">
                        <span>9:41</span>
                        <span>‚ö° üì∂ ‚óè‚óè‚óè‚óè</span>
                      </div>
                      <div class="mobile-content">
                        <div class="mobile-header">
                          <h4>New Assignment</h4>
                          <div class="notification-badge">1</div>
                        </div>

                        <div class="job-card-mobile">
                          <h5>üîî New Job Assigned</h5>
                          <div class="job-detail-row">
                            <span>üì¶</span>
                            <span>Dishwasher Installation</span>
                          </div>
                          <div class="job-detail-row">
                            <span>üìÖ</span>
                            <span>Nov 18, 2025 - 10:00 AM</span>
                          </div>
                          <div class="job-detail-row">
                            <span>üìç</span>
                            <span>123 Main St, Zone 2 (8.2 km)</span>
                          </div>
                          <div class="job-detail-row">
                            <span>‚è±</span>
                            <span>Estimated: 2 hours</span>
                          </div>
                          <div class="job-actions">
                            <button class="btn-mobile-primary">Accept</button>
                            <button class="btn-mobile-secondary">View Details</button>
                          </div>
                        </div>

                        <p style="font-size: 0.85rem; color: var(--text-muted); text-align: center;">
                          Auto-accept in 2 hours if no action
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          `
        },
        // Step 2: Scheduled & Customer Notified
        {
          title: "Scheduled & Customer Notified",
          progress: 50,
          notification: {
            title: "Installation Scheduled",
            body: "Customer has been notified via SMS. Appointment confirmed for Nov 18 at 10:00 AM",
            action: "View customer notification"
          },
          content: `
            <div class="demo-layout">
              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">üì±</div>
                    <div>
                      <h3>Customer View</h3>
                      <p>SMS & Tracking Portal</p>
                    </div>
                  </div>
                  <span class="view-badge badge-customer">Customer</span>
                </div>
                <div class="view-content">
                  <h4 style="margin-bottom: 1rem;">SMS Notification Received</h4>

                  <div class="customer-card" style="background: rgba(74, 158, 255, 0.1); border: 2px solid rgba(74, 158, 255, 0.3);">
                    <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem;">
                      <span style="font-size: 2rem;">üí¨</span>
                      <div>
                        <div style="font-size: 0.75rem; color: var(--text-muted);">From: YellowGrid</div>
                        <div style="font-size: 0.85rem;">Today 2:32 PM</div>
                      </div>
                    </div>
                    <p style="line-height: 1.6; font-size: 0.95rem;">
                      Hi Sarah! Your dishwasher installation is scheduled for <strong>Monday, Nov 18 at 10:00 AM</strong>.
                      Technician John from Crew A will call 30 min before arrival. Track your appointment:
                      <span style="color: var(--accent-blue);">track.yellowgrid.app/45812</span>
                    </p>
                  </div>

                  <h4 style="margin: 1.5rem 0 1rem;">Tracking Portal</h4>

                  <div class="customer-card">
                    <div class="appointment-header">
                      <div>
                        <div class="appointment-date">18</div>
                        <div class="appointment-month">November</div>
                      </div>
                      <div style="text-align: right;">
                        <div style="font-size: 1.5rem; font-weight: 700;">10:00 AM</div>
                        <div style="font-size: 0.85rem; color: var(--text-muted);">2 hour window</div>
                      </div>
                    </div>

                    <div class="tracking-timeline">
                      <div class="tracking-step">
                        <h5>Order Confirmed</h5>
                        <p>Dishwasher purchased in-store</p>
                        <small>Nov 15, 2:30 PM</small>
                      </div>
                      <div class="tracking-step">
                        <h5>Installation Scheduled</h5>
                        <p>Crew A assigned - John Silva, Certified Technician</p>
                        <small>Nov 15, 2:32 PM</small>
                      </div>
                      <div class="tracking-step pending">
                        <h5>Installation Day</h5>
                        <p>Technician will arrive between 10:00-12:00 AM</p>
                        <small>Nov 18 - Upcoming</small>
                      </div>
                      <div class="tracking-step pending">
                        <h5>Completion & Sign-off</h5>
                        <p>Review work and sign digitally</p>
                        <small>Pending</small>
                      </div>
                    </div>

                    <div class="info-panel">
                      <h4>Need to reschedule?</h4>
                      <p>Call us at 1-800-YELLOW-G or reply to the SMS</p>
                    </div>
                  </div>
                </div>
              </div>

              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">üõ∞</div>
                    <div>
                      <h3>Operator Control Tower</h3>
                      <p>Today's Schedule</p>
                    </div>
                  </div>
                  <span class="view-badge badge-operator">Operator</span>
                </div>
                <div class="view-content">
                  <div class="dashboard-grid" style="grid-template-columns: repeat(3, 1fr);">
                    <div class="stat-card">
                      <div class="stat-label">Scheduled Today</div>
                      <div class="stat-value">24</div>
                      <div class="stat-change stat-positive">‚Üë 12% vs yesterday</div>
                    </div>
                    <div class="stat-card">
                      <div class="stat-label">On-time Rate</div>
                      <div class="stat-value">94%</div>
                      <div class="stat-change stat-positive">‚Üë 2% this week</div>
                    </div>
                    <div class="stat-card">
                      <div class="stat-label">At Risk</div>
                      <div class="stat-value">3</div>
                      <div class="stat-change stat-negative">‚Üì 5 resolved</div>
                    </div>
                  </div>

                  <h4 style="margin: 1.5rem 0 1rem;">Upcoming - Nov 18</h4>

                  <table class="so-table">
                    <thead>
                      <tr>
                        <th>Time</th>
                        <th>Service Order</th>
                        <th>Crew</th>
                        <th>Status</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr style="background: rgba(255, 203, 50, 0.1);">
                        <td>10:00 AM</td>
                        <td><strong>#45812 - Dishwasher</strong></td>
                        <td>Crew A</td>
                        <td><span class="status-dot dot-blue"></span>Scheduled</td>
                      </tr>
                      <tr>
                        <td>11:30 AM</td>
                        <td>#45820 - Oven Install</td>
                        <td>Crew B</td>
                        <td><span class="status-dot dot-blue"></span>Scheduled</td>
                      </tr>
                      <tr>
                        <td>2:00 PM</td>
                        <td>#45789 - Kitchen Rework</td>
                        <td>Crew D</td>
                        <td><span class="status-dot dot-orange"></span>At Risk</td>
                      </tr>
                    </tbody>
                  </table>

                  <div class="info-panel" style="margin-top: 1.5rem;">
                    <h4>All systems ready for Nov 18</h4>
                    <p>No conflicts detected. All crews confirmed. Customer notifications sent.</p>
                  </div>
                </div>
              </div>
            </div>
          `
        },
        // Step 3: Installation Day
        {
          title: "Installation Day - Field Execution",
          progress: 75,
          notification: {
            title: "Crew Checked In",
            body: "John from Crew A has checked in at customer location. Installation in progress.",
            action: "Monitor installation"
          },
          content: `
            <div class="demo-layout">
              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">üë∑</div>
                    <div>
                      <h3>Crew Mobile App</h3>
                      <p>Field Execution</p>
                    </div>
                  </div>
                  <span class="view-badge badge-crew">Crew Lead</span>
                </div>
                <div class="view-content">
                  <div class="mobile-mockup">
                    <div class="mobile-screen">
                      <div class="mobile-status-bar">
                        <span>10:05</span>
                        <span>‚ö° üì∂ ‚óè‚óè‚óè‚óè</span>
                      </div>
                      <div class="mobile-content">
                        <div class="mobile-header">
                          <h4>Active Job</h4>
                          <div style="background: var(--accent-green); padding: 0.35rem 0.75rem; border-radius: 999px; font-size: 0.75rem;">
                            IN PROGRESS
                          </div>
                        </div>

                        <div class="job-card-mobile">
                          <h5>SO #45812 - Dishwasher Installation</h5>
                          <div class="job-detail-row">
                            <span>üë§</span>
                            <span>Customer: Sarah Johnson</span>
                          </div>
                          <div class="job-detail-row">
                            <span>üìç</span>
                            <span>123 Main St, Apt 4B</span>
                          </div>
                          <div class="job-detail-row">
                            <span>üì¶</span>
                            <span>Bosch Serie 4 SMV4HTX31E</span>
                          </div>
                          <div class="job-detail-row">
                            <span>‚è±</span>
                            <span>Checked in: 10:05 AM</span>
                          </div>
                        </div>

                        <h5 style="margin: 1rem 0 0.75rem; font-size: 0.95rem;">Checklist</h5>
                        <div style="background: var(--bg-alt); border-radius: 12px; padding: 1rem;">
                          <div style="margin-bottom: 0.75rem;">
                            <label style="display: flex; align-items: center; gap: 0.5rem; font-size: 0.9rem;">
                              <input type="checkbox" checked disabled style="width: 18px; height: 18px;">
                              <span style="text-decoration: line-through; color: var(--text-muted);">Check-in at location</span>
                            </label>
                          </div>
                          <div style="margin-bottom: 0.75rem;">
                            <label style="display: flex; align-items: center; gap: 0.5rem; font-size: 0.9rem;">
                              <input type="checkbox" checked disabled style="width: 18px; height: 18px;">
                              <span style="text-decoration: line-through; color: var(--text-muted);">Verify product on-site</span>
                            </label>
                          </div>
                          <div style="margin-bottom: 0.75rem;">
                            <label style="display: flex; align-items: center; gap: 0.5rem; font-size: 0.9rem;">
                              <input type="checkbox" checked disabled style="width: 18px; height: 18px;">
                              <span style="text-decoration: line-through; color: var(--text-muted);">Disconnect old unit</span>
                            </label>
                          </div>
                          <div style="margin-bottom: 0.75rem;">
                            <label style="display: flex; align-items: center; gap: 0.5rem; font-size: 0.9rem;">
                              <input type="checkbox" style="width: 18px; height: 18px;">
                              <span class="pulse">Install new dishwasher</span>
                            </label>
                          </div>
                          <div>
                            <label style="display: flex; align-items: center; gap: 0.5rem; font-size: 0.9rem;">
                              <input type="checkbox" style="width: 18px; height: 18px;">
                              <span>Test all cycles</span>
                            </label>
                          </div>
                        </div>

                        <div class="job-actions" style="margin-top: 1rem;">
                          <button class="btn-mobile-primary">üì∏ Add Photo</button>
                          <button class="btn-mobile-secondary">üìù Add Note</button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">üõ∞</div>
                    <div>
                      <h3>Live Operator View</h3>
                      <p>Real-time Monitoring</p>
                    </div>
                  </div>
                  <span class="view-badge badge-operator">Operator</span>
                </div>
                <div class="view-content">
                  <h4 style="margin-bottom: 1rem;">Active Installations - Live</h4>

                  <div class="customer-card" style="background: rgba(70, 211, 138, 0.1); border: 2px solid var(--accent-green);">
                    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;">
                      <div>
                        <h5 style="font-size: 1.1rem;">#45812 - Dishwasher Installation</h5>
                        <p style="font-size: 0.85rem; color: var(--text-muted);">Sarah Johnson, 123 Main St</p>
                      </div>
                      <div style="background: var(--accent-green); padding: 0.4rem 0.85rem; border-radius: 999px; font-size: 0.75rem; font-weight: 600;">
                        IN PROGRESS
                      </div>
                    </div>

                    <div class="tracking-timeline">
                      <div class="tracking-step">
                        <h5>‚úÖ Crew Dispatched</h5>
                        <p>John left depot at 9:45 AM</p>
                        <small>9:45 AM</small>
                      </div>
                      <div class="tracking-step">
                        <h5>‚úÖ Checked In</h5>
                        <p>Arrived on-site, customer greeted</p>
                        <small>10:05 AM</small>
                      </div>
                      <div class="tracking-step">
                        <h5>üî® Installation Active</h5>
                        <p>Progress: 60% complete</p>
                        <small>10:42 AM - Now</small>
                      </div>
                      <div class="tracking-step pending">
                        <h5>‚è≥ Testing & WCF</h5>
                        <p>Estimated completion: 11:30 AM</p>
                        <small>Upcoming</small>
                      </div>
                    </div>

                    <div style="margin-top: 1rem; padding: 1rem; background: var(--bg-alt); border-radius: 12px;">
                      <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                        <span style="font-size: 0.85rem; color: var(--text-muted);">Time on Site</span>
                        <span style="font-size: 0.9rem; font-weight: 600;">37 minutes</span>
                      </div>
                      <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                        <span style="font-size: 0.85rem; color: var(--text-muted);">Est. Completion</span>
                        <span style="font-size: 0.9rem; font-weight: 600; color: var(--accent-green);">On Track</span>
                      </div>
                      <div style="display: flex; justify-content: space-between;">
                        <span style="font-size: 0.85rem; color: var(--text-muted);">Photos Uploaded</span>
                        <span style="font-size: 0.9rem; font-weight: 600;">3</span>
                      </div>
                    </div>
                  </div>

                  <div class="info-panel" style="margin-top: 1.5rem;">
                    <h4>üìä Today's Progress</h4>
                    <p>
                      <strong>Completed:</strong> 8 installations<br>
                      <strong>In Progress:</strong> 3 installations (including this one)<br>
                      <strong>Scheduled:</strong> 13 remaining today<br>
                      <strong>On-time Rate:</strong> 95% (above target)
                    </p>
                  </div>
                </div>
              </div>
            </div>
          `
        },
        // Step 4: WCF & Completion
        {
          title: "Work Closing Form & Completion",
          progress: 100,
          notification: {
            title: "Installation Complete!",
            body: "Customer signed WCF. Service order closed successfully. Payment processed.",
            action: "View completion report"
          },
          content: `
            <div class="demo-layout">
              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">‚úÖ</div>
                    <div>
                      <h3>Customer Signature</h3>
                      <p>Digital WCF on Crew Tablet</p>
                    </div>
                  </div>
                  <span class="view-badge badge-customer">Customer</span>
                </div>
                <div class="view-content">
                  <div class="mobile-mockup">
                    <div class="mobile-screen">
                      <div class="mobile-status-bar">
                        <span>11:28</span>
                        <span>‚ö° üì∂ ‚óè‚óè‚óè‚óè</span>
                      </div>
                      <div class="mobile-content">
                        <h4 style="margin-bottom: 1rem; text-align: center;">Work Closing Form</h4>

                        <div class="customer-card">
                          <h5 style="margin-bottom: 0.75rem;">Installation Summary</h5>
                          <div class="job-detail-row">
                            <span>üì¶</span>
                            <span>Dishwasher - Bosch Serie 4</span>
                          </div>
                          <div class="job-detail-row">
                            <span>üë∑</span>
                            <span>Technician: John Silva</span>
                          </div>
                          <div class="job-detail-row">
                            <span>‚è±</span>
                            <span>Duration: 1h 23min</span>
                          </div>
                        </div>

                        <h5 style="margin: 1rem 0 0.75rem;">Work Completed</h5>
                        <div style="background: var(--bg-alt); border-radius: 12px; padding: 1rem; margin-bottom: 1rem;">
                          <p style="font-size: 0.85rem; line-height: 1.6;">
                            ‚úì Disconnected old dishwasher<br>
                            ‚úì Installed Bosch Serie 4 unit<br>
                            ‚úì Connected water supply & drainage<br>
                            ‚úì Tested all cycles - working perfectly<br>
                            ‚úì Cleaned installation area<br>
                            ‚úì Demonstrated operation to customer
                          </p>
                        </div>

                        <h5 style="margin-bottom: 0.75rem;">Photos (3)</h5>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 0.5rem; margin-bottom: 1rem;">
                          <div style="aspect-ratio: 1; background: var(--bg-alt); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 2rem;">üì∏</div>
                          <div style="aspect-ratio: 1; background: var(--bg-alt); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 2rem;">üì∏</div>
                          <div style="aspect-ratio: 1; background: var(--bg-alt); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 2rem;">üì∏</div>
                        </div>

                        <div style="background: rgba(70, 211, 138, 0.15); border: 2px dashed var(--accent-green); border-radius: 12px; padding: 1.25rem; text-align: center;">
                          <p style="font-size: 0.9rem; margin-bottom: 0.75rem; color: var(--text-muted);">Customer Signature</p>
                          <div style="font-family: 'Brush Script MT', cursive; font-size: 2rem; color: var(--accent-green); margin-bottom: 0.5rem;">
                            Sarah Johnson
                          </div>
                          <small style="color: var(--text-muted);">Signed: Nov 18, 2025 11:28 AM</small>
                        </div>

                        <div style="margin-top: 1rem; text-align: center;">
                          <p style="font-size: 0.85rem; color: var(--accent-green); font-weight: 600;">
                            ‚úì Work Accepted - Thank you!
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">üéâ</div>
                    <div>
                      <h3>Service Order Closed</h3>
                      <p>All Stakeholders Updated</p>
                    </div>
                  </div>
                  <span class="view-badge badge-operator">System</span>
                </div>
                <div class="view-content">
                  <div class="customer-card" style="background: rgba(70, 211, 138, 0.15); border: 2px solid var(--accent-green);">
                    <div style="text-align: center; margin-bottom: 1rem;">
                      <div style="font-size: 3rem; margin-bottom: 0.5rem;">‚úÖ</div>
                      <h4 style="font-size: 1.3rem; margin-bottom: 0.5rem; color: var(--accent-green);">Installation Complete!</h4>
                      <p style="color: var(--text-muted);">SO #45812 closed successfully</p>
                    </div>
                  </div>

                  <h4 style="margin: 1.5rem 0 1rem;">Automated Actions Triggered</h4>

                  <div class="tracking-timeline">
                    <div class="tracking-step">
                      <h5>‚úÖ WCF Uploaded to ERP</h5>
                      <p>Document sent to backend system with photos</p>
                      <small>11:28 AM</small>
                    </div>
                    <div class="tracking-step">
                      <h5>‚úÖ Payment Released</h5>
                      <p>$150 installation fee released to Provider L</p>
                      <small>11:29 AM</small>
                    </div>
                    <div class="tracking-step">
                      <h5>‚úÖ Customer Notified</h5>
                      <p>Thank you SMS sent with warranty info</p>
                      <small>11:29 AM</small>
                    </div>
                    <div class="tracking-step">
                      <h5>‚úÖ Crew Performance Updated</h5>
                      <p>Crew A: On-time completion, customer satisfaction</p>
                      <small>11:30 AM</small>
                    </div>
                    <div class="tracking-step">
                      <h5>‚úÖ Next Job Notified</h5>
                      <p>Crew A's next appointment starts at 1:00 PM</p>
                      <small>11:30 AM</small>
                    </div>
                  </div>

                  <div class="info-panel" style="margin-top: 1.5rem;">
                    <h4>üìä Project Metrics</h4>
                    <p>
                      <strong>Start to Finish:</strong> 3 days (order to completion)<br>
                      <strong>Installation Time:</strong> 1h 23min (under estimate)<br>
                      <strong>Customer Satisfaction:</strong> Signed first try<br>
                      <strong>Provider Score Impact:</strong> Crew A +2 points
                    </p>
                  </div>

                  <div class="action-buttons" style="margin-top: 1.5rem;">
                    <button class="btn btn-primary" onclick="resetDemo()">
                      üîÑ Try Another Scenario
                    </button>
                    <button class="btn btn-secondary" onclick="window.location.href='index.html'">
                      ‚Üê Back to Home
                    </button>
                  </div>
                </div>
              </div>
            </div>
          `
        }
      ],

      // Technical Visit & Quotation Workflow
      tvQuotation: [
        // Step 0: Customer requests technical visit
        {
          title: "Customer Requests Assessment",
          progress: 0,
          content: `
            <div class="demo-layout">
              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">üè™</div>
                    <div>
                      <h3>Customer View</h3>
                      <p>In-Store Request</p>
                    </div>
                  </div>
                  <span class="view-badge badge-customer">Customer</span>
                </div>
                <div class="view-content">
                  <h4 style="margin-bottom: 1rem;">Technical Visit Request</h4>

                  <div class="customer-card">
                    <h5 style="font-size: 1.1rem; margin-bottom: 0.75rem;">Kitchen Countertop Installation</h5>
                    <div class="job-detail-row">
                      <span>üìè</span>
                      <span>Need: Professional measurements</span>
                    </div>
                    <div class="job-detail-row">
                      <span>üè†</span>
                      <span>Property: 456 Oak Avenue, House</span>
                    </div>
                    <div class="job-detail-row">
                      <span>üìù</span>
                      <span>Scope: Granite countertop + sink cutout</span>
                    </div>
                    <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid var(--border-subtle);">
                      <p style="font-size: 0.9rem; color: var(--text-muted);">
                        ‚úì Certified technician will assess site<br>
                        ‚úì Detailed technical report provided<br>
                        ‚úì Accurate quotation based on measurements
                      </p>
                    </div>
                  </div>

                  <div class="info-panel">
                    <h4>What happens next?</h4>
                    <p>A qualified technician will visit your property to take precise measurements, assess installation complexity, and identify any special requirements.</p>
                  </div>
                </div>
              </div>

              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">üéØ</div>
                    <div>
                      <h3>System Processing</h3>
                      <p>TV Service Order Created</p>
                    </div>
                  </div>
                  <span class="view-badge badge-operator">System</span>
                </div>
                <div class="view-content">
                  <h4 style="margin-bottom: 1rem;">Service Order Created</h4>

                  <div class="tracking-timeline">
                    <div class="tracking-step">
                      <h5>‚úÖ Request Received</h5>
                      <p>Technical Visit requested for countertop</p>
                      <small>10:15 AM</small>
                    </div>
                    <div class="tracking-step">
                      <h5>‚úÖ SO #TV-5921 Created</h5>
                      <p>Service Type: Technical Visit & Quotation</p>
                      <small>10:15:10 AM</small>
                    </div>
                    <div class="tracking-step pending">
                      <h5>‚è≥ Technician Matching</h5>
                      <p>Finding certified technician in Zone 3...</p>
                      <small>In progress...</small>
                    </div>
                  </div>

                  <div class="info-panel">
                    <h4>üí° Requirements</h4>
                    <p>
                      YellowGrid matching criteria:<br>
                      ‚Ä¢ Countertop installation certification<br>
                      ‚Ä¢ Zone 3 coverage<br>
                      ‚Ä¢ Measurement equipment<br>
                      ‚Ä¢ Available within 48 hours
                    </p>
                  </div>

                  <div class="action-buttons">
                    <button class="btn btn-primary" onclick="nextStep()">
                      üéØ Match Technician ‚Üí
                    </button>
                  </div>
                </div>
              </div>
            </div>
          `
        },

        // Step 1: Technician matched and scheduled
        {
          title: "Technician Matched & Scheduled",
          progress: 20,
          notification: {
            title: "Technician Assigned",
            body: "Marco from Provider TechPro has been assigned for technical visit",
            action: "View details"
          },
          content: `
            <div class="demo-layout">
              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">üë∑</div>
                    <div>
                      <h3>Technician Notification</h3>
                      <p>Provider TechPro Dashboard</p>
                    </div>
                  </div>
                  <span class="view-badge badge-crew">Technician</span>
                </div>
                <div class="view-content">
                  <div class="mobile-mockup">
                    <div class="mobile-screen">
                      <div class="mobile-status-bar">
                        <span>10:16</span>
                        <span>‚ö° üì∂ ‚óè‚óè‚óè‚óè</span>
                      </div>
                      <div class="mobile-content">
                        <div class="mobile-header">
                          <h4>New TV Assignment</h4>
                          <div class="notification-badge">1</div>
                        </div>

                        <div class="job-card-mobile">
                          <h5>üîî Technical Visit Assigned</h5>
                          <div class="job-detail-row">
                            <span>üìè</span>
                            <span>Countertop Measurement</span>
                          </div>
                          <div class="job-detail-row">
                            <span>üìÖ</span>
                            <span>Nov 19, 2025 - 2:00 PM</span>
                          </div>
                          <div class="job-detail-row">
                            <span>üìç</span>
                            <span>456 Oak Ave, Zone 3 (12.5 km)</span>
                          </div>
                          <div class="job-detail-row">
                            <span>‚è±</span>
                            <span>Estimated: 1 hour</span>
                          </div>
                          <div class="job-detail-row">
                            <span>üõ†</span>
                            <span>Bring: Laser measure, tablet</span>
                          </div>
                          <div class="job-actions">
                            <button class="btn-mobile-primary">Accept</button>
                            <button class="btn-mobile-secondary">View Details</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">üì±</div>
                    <div>
                      <h3>Customer Notification</h3>
                      <p>SMS Confirmation</p>
                    </div>
                  </div>
                  <span class="view-badge badge-customer">Customer</span>
                </div>
                <div class="view-content">
                  <h4 style="margin-bottom: 1rem;">Appointment Confirmed</h4>

                  <div class="customer-card" style="background: rgba(74, 158, 255, 0.1); border: 2px solid rgba(74, 158, 255, 0.3);">
                    <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem;">
                      <span style="font-size: 2rem;">üí¨</span>
                      <div>
                        <div style="font-size: 0.75rem; color: var(--text-muted);">From: YellowGrid</div>
                        <div style="font-size: 0.85rem;">Today 10:18 AM</div>
                      </div>
                    </div>
                    <p style="line-height: 1.6; font-size: 0.95rem;">
                      Hi Michael! Your technical visit is scheduled for <strong>Tuesday, Nov 19 at 2:00 PM</strong>.
                      Technician Marco will measure your kitchen for the countertop installation. Please ensure the area is accessible.
                    </p>
                  </div>

                  <div class="customer-card">
                    <h5 style="margin-bottom: 0.75rem;">What to Expect</h5>
                    <p style="font-size: 0.9rem; line-height: 1.6; color: var(--text-muted);">
                      ‚Ä¢ Technician will take precise measurements<br>
                      ‚Ä¢ Photos of installation area<br>
                      ‚Ä¢ Assessment of plumbing/electrical needs<br>
                      ‚Ä¢ Technical report generated on-site<br>
                      ‚Ä¢ Detailed quotation provided within 2 hours
                    </p>
                  </div>

                  <div class="info-panel">
                    <h4>Preparation Tips</h4>
                    <p>Clear countertop area. Remove items from cabinets if possible. Note any special requests or concerns to discuss with technician.</p>
                  </div>
                </div>
              </div>
            </div>
          `
        },

        // Step 2: Technician on-site measuring
        {
          title: "On-Site Inspection & Measurement",
          progress: 40,
          notification: {
            title: "Technician Checked In",
            body: "Marco has arrived and is conducting measurements",
            action: "View progress"
          },
          content: `
            <div class="demo-layout">
              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">üìê</div>
                    <div>
                      <h3>Technician App</h3>
                      <p>Active Assessment</p>
                    </div>
                  </div>
                  <span class="view-badge badge-crew">Technician</span>
                </div>
                <div class="view-content">
                  <div class="mobile-mockup">
                    <div class="mobile-screen">
                      <div class="mobile-status-bar">
                        <span>14:12</span>
                        <span>‚ö° üì∂ ‚óè‚óè‚óè‚óè</span>
                      </div>
                      <div class="mobile-content">
                        <div class="mobile-header">
                          <h4>Technical Visit</h4>
                          <div style="background: var(--accent-green); padding: 0.35rem 0.75rem; border-radius: 999px; font-size: 0.75rem;">
                            IN PROGRESS
                          </div>
                        </div>

                        <div class="job-card-mobile">
                          <h5>SO #TV-5921 - Countertop Assessment</h5>
                          <div class="job-detail-row">
                            <span>üë§</span>
                            <span>Customer: Michael Roberts</span>
                          </div>
                          <div class="job-detail-row">
                            <span>üè†</span>
                            <span>456 Oak Avenue</span>
                          </div>
                          <div class="job-detail-row">
                            <span>‚è±</span>
                            <span>Checked in: 2:05 PM</span>
                          </div>
                        </div>

                        <h5 style="margin: 1rem 0 0.75rem;">Measurements</h5>
                        <div style="background: var(--bg-alt); border-radius: 12px; padding: 1rem; margin-bottom: 1rem;">
                          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem; font-size: 0.85rem;">
                            <div>
                              <span style="color: var(--text-muted);">Length:</span><br>
                              <strong>3.85m</strong>
                            </div>
                            <div>
                              <span style="color: var(--text-muted);">Width:</span><br>
                              <strong>0.62m</strong>
                            </div>
                            <div>
                              <span style="color: var(--text-muted);">Backsplash:</span><br>
                              <strong>0.15m</strong>
                            </div>
                            <div>
                              <span style="color: var(--text-muted);">Sink Cutout:</span><br>
                              <strong>Required</strong>
                            </div>
                          </div>
                        </div>

                        <h5 style="margin-bottom: 0.75rem;">Photos (4)</h5>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 0.5rem; margin-bottom: 1rem;">
                          <div style="aspect-ratio: 1; background: var(--bg-alt); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 2rem;">üì∏</div>
                          <div style="aspect-ratio: 1; background: var(--bg-alt); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 2rem;">üì∏</div>
                          <div style="aspect-ratio: 1; background: var(--bg-alt); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 2rem;">üì∏</div>
                          <div style="aspect-ratio: 1; background: var(--bg-alt); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 2rem;">üì∏</div>
                        </div>

                        <h5 style="margin-bottom: 0.75rem;">Notes</h5>
                        <div style="background: var(--bg-alt); border-radius: 12px; padding: 1rem; font-size: 0.85rem;">
                          <p>‚Ä¢ Existing countertop removal needed<br>
                          ‚Ä¢ Plumbing accessible for sink<br>
                          ‚Ä¢ Wall reinforcement recommended<br>
                          ‚Ä¢ Customer prefers Kashmir White granite</p>
                        </div>

                        <div class="job-actions" style="margin-top: 1rem;">
                          <button class="btn-mobile-primary">üìã Generate Report</button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">üõ∞</div>
                    <div>
                      <h3>Operator View</h3>
                      <p>Live Monitoring</p>
                    </div>
                  </div>
                  <span class="view-badge badge-operator">Operator</span>
                </div>
                <div class="view-content">
                  <h4 style="margin-bottom: 1rem;">Active Technical Visits</h4>

                  <div class="customer-card" style="background: rgba(74, 158, 255, 0.1); border: 2px solid var(--accent-blue);">
                    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;">
                      <div>
                        <h5 style="font-size: 1.1rem;">#TV-5921 - Countertop Assessment</h5>
                        <p style="font-size: 0.85rem; color: var(--text-muted);">Michael Roberts, 456 Oak Ave</p>
                      </div>
                      <div style="background: var(--accent-blue); padding: 0.4rem 0.85rem; border-radius: 999px; font-size: 0.75rem; font-weight: 600;">
                        IN PROGRESS
                      </div>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin-bottom: 1rem;">
                      <div>
                        <div style="font-size: 0.75rem; color: var(--text-muted);">Checked In</div>
                        <div style="font-size: 1rem; font-weight: 600;">2:05 PM</div>
                      </div>
                      <div>
                        <div style="font-size: 0.75rem; color: var(--text-muted);">Time on Site</div>
                        <div style="font-size: 1rem; font-weight: 600;">7 min</div>
                      </div>
                      <div>
                        <div style="font-size: 0.75rem; color: var(--text-muted);">Photos</div>
                        <div style="font-size: 1rem; font-weight: 600;">4</div>
                      </div>
                    </div>

                    <div style="background: var(--bg-alt); border-radius: 12px; padding: 1rem;">
                      <h5 style="font-size: 0.9rem; margin-bottom: 0.5rem;">Data Captured</h5>
                      <p style="font-size: 0.85rem; color: var(--text-muted);">
                        ‚úì Measurements entered<br>
                        ‚úì Photos uploaded (4)<br>
                        ‚úì Customer notes added<br>
                        ‚è≥ Technical report pending
                      </p>
                    </div>
                  </div>

                  <div class="info-panel" style="margin-top: 1.5rem;">
                    <h4>Today's TV Performance</h4>
                    <p>
                      <strong>Completed:</strong> 5 technical visits<br>
                      <strong>In Progress:</strong> 2 (including this one)<br>
                      <strong>Avg. Report Time:</strong> 18 minutes<br>
                      <strong>Quote Acceptance:</strong> 87%
                    </p>
                  </div>
                </div>
              </div>
            </div>
          `
        },

        // Step 3: Technical report generated
        {
          title: "Technical Report Generated",
          progress: 60,
          notification: {
            title: "Report Ready",
            body: "Technical report has been auto-generated from field data. Quotation being calculated.",
            action: "Review report"
          },
          content: `
            <div class="demo-layout">
              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">üìã</div>
                    <div>
                      <h3>Technical Report</h3>
                      <p>Auto-Generated Document</p>
                    </div>
                  </div>
                  <span class="view-badge badge-operator">System</span>
                </div>
                <div class="view-content">
                  <h4 style="margin-bottom: 1rem;">Technical Visit Report #TV-5921</h4>

                  <div class="customer-card">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 1rem;">
                      <div>
                        <h5 style="font-size: 1rem;">Customer: Michael Roberts</h5>
                        <p style="font-size: 0.85rem; color: var(--text-muted);">456 Oak Avenue</p>
                      </div>
                      <div style="text-align: right;">
                        <div style="font-size: 0.85rem; color: var(--text-muted);">Visit Date</div>
                        <div style="font-size: 0.95rem; font-weight: 600;">Nov 19, 2025</div>
                      </div>
                    </div>

                    <div style="border-top: 1px solid var(--border-subtle); padding-top: 1rem;">
                      <h5 style="font-size: 0.95rem; margin-bottom: 0.75rem;">Scope of Work</h5>
                      <p style="font-size: 0.9rem; line-height: 1.6; color: var(--text-muted);">
                        Granite countertop installation for kitchen including removal of existing countertop,
                        fabrication and installation of Kashmir White granite with sink cutout.
                      </p>
                    </div>
                  </div>

                  <div class="customer-card">
                    <h5 style="margin-bottom: 0.75rem;">Measurements</h5>
                    <table style="width: 100%; font-size: 0.9rem;">
                      <tr>
                        <td style="padding: 0.5rem 0; color: var(--text-muted);">Total Length:</td>
                        <td style="padding: 0.5rem 0; font-weight: 600; text-align: right;">3.85 meters</td>
                      </tr>
                      <tr>
                        <td style="padding: 0.5rem 0; color: var(--text-muted);">Width:</td>
                        <td style="padding: 0.5rem 0; font-weight: 600; text-align: right;">0.62 meters</td>
                      </tr>
                      <tr>
                        <td style="padding: 0.5rem 0; color: var(--text-muted);">Backsplash Height:</td>
                        <td style="padding: 0.5rem 0; font-weight: 600; text-align: right;">0.15 meters</td>
                      </tr>
                      <tr>
                        <td style="padding: 0.5rem 0; color: var(--text-muted);">Total Area:</td>
                        <td style="padding: 0.5rem 0; font-weight: 600; text-align: right;">2.39 m¬≤</td>
                      </tr>
                    </table>
                  </div>

                  <div class="customer-card">
                    <h5 style="margin-bottom: 0.75rem;">Special Requirements</h5>
                    <div style="font-size: 0.9rem; line-height: 1.8;">
                      ‚úì Sink cutout required (undermount, 60cm)<br>
                      ‚úì Existing countertop removal included<br>
                      ‚úì Wall reinforcement recommended (east wall)<br>
                      ‚ö† Access stairs narrow - careful handling required
                    </div>
                  </div>

                  <div class="customer-card">
                    <h5 style="margin-bottom: 0.75rem;">Material Recommendation</h5>
                    <p style="font-size: 0.9rem; line-height: 1.6; color: var(--text-muted);">
                      <strong>Kashmir White Granite</strong> - Durable, elegant finish.
                      Thickness: 3cm. Polished finish. Customer approved color sample on-site.
                    </p>
                  </div>

                  <div style="text-align: center; margin-top: 1.5rem;">
                    <p style="font-size: 0.85rem; color: var(--text-muted);">
                      Report generated automatically from field data<br>
                      Technician: Marco Silva | Provider: TechPro
                    </p>
                  </div>
                </div>
              </div>

              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">üí∞</div>
                    <div>
                      <h3>Quotation Engine</h3>
                      <p>Automated Pricing</p>
                    </div>
                  </div>
                  <span class="view-badge badge-operator">System</span>
                </div>
                <div class="view-content">
                  <h4 style="margin-bottom: 1rem;">Quote Calculation in Progress</h4>

                  <div class="tracking-timeline">
                    <div class="tracking-step">
                      <h5>‚úÖ Measurements Processed</h5>
                      <p>Total area: 2.39 m¬≤ calculated</p>
                      <small>2:25 PM</small>
                    </div>
                    <div class="tracking-step">
                      <h5>‚úÖ Material Pricing</h5>
                      <p>Kashmir White granite: $185/m¬≤</p>
                      <small>2:25 PM</small>
                    </div>
                    <div class="tracking-step">
                      <h5>‚úÖ Labor Calculated</h5>
                      <p>Removal + Install + Sink cutout: 8 hours</p>
                      <small>2:25 PM</small>
                    </div>
                    <div class="tracking-step">
                      <h5>‚úÖ Additional Services</h5>
                      <p>Wall reinforcement + disposal included</p>
                      <small>2:26 PM</small>
                    </div>
                    <div class="tracking-step">
                      <h5>üî® Final Quote Ready</h5>
                      <p>Quote #Q-5921 generated</p>
                      <small>2:26 PM</small>
                    </div>
                  </div>

                  <div class="customer-card" style="background: rgba(255, 203, 50, 0.1); border: 2px solid var(--yellow); margin-top: 1.5rem;">
                    <h5 style="margin-bottom: 1rem; color: var(--yellow);">Quote Summary</h5>
                    <table style="width: 100%; font-size: 0.9rem;">
                      <tr>
                        <td style="padding: 0.5rem 0;">Granite (2.39 m¬≤ @ $185/m¬≤)</td>
                        <td style="padding: 0.5rem 0; text-align: right;">$442</td>
                      </tr>
                      <tr>
                        <td style="padding: 0.5rem 0;">Fabrication & Installation</td>
                        <td style="padding: 0.5rem 0; text-align: right;">$680</td>
                      </tr>
                      <tr>
                        <td style="padding: 0.5rem 0;">Sink Cutout</td>
                        <td style="padding: 0.5rem 0; text-align: right;">$120</td>
                      </tr>
                      <tr>
                        <td style="padding: 0.5rem 0;">Removal & Disposal</td>
                        <td style="padding: 0.5rem 0; text-align: right;">$95</td>
                      </tr>
                      <tr>
                        <td style="padding: 0.5rem 0;">Wall Reinforcement</td>
                        <td style="padding: 0.5rem 0; text-align: right;">$180</td>
                      </tr>
                      <tr style="border-top: 2px solid var(--yellow); font-weight: 700; font-size: 1.1rem;">
                        <td style="padding: 1rem 0 0 0;">Total</td>
                        <td style="padding: 1rem 0 0 0; text-align: right; color: var(--yellow);">$1,517</td>
                      </tr>
                    </table>
                  </div>

                  <div class="action-buttons" style="margin-top: 1.5rem;">
                    <button class="btn btn-primary" onclick="nextStep()">
                      üìß Send to Customer ‚Üí
                    </button>
                  </div>
                </div>
              </div>
            </div>
          `
        },

        // Step 4: Customer receives and reviews quote
        {
          title: "Customer Reviews Quotation",
          progress: 80,
          notification: {
            title: "Quote Sent",
            body: "Quotation sent to customer via email and SMS link",
            action: "View customer portal"
          },
          content: `
            <div class="demo-layout">
              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">üì±</div>
                    <div>
                      <h3>Customer Portal</h3>
                      <p>Quote Review</p>
                    </div>
                  </div>
                  <span class="view-badge badge-customer">Customer</span>
                </div>
                <div class="view-content">
                  <div class="mobile-mockup">
                    <div class="mobile-screen">
                      <div class="mobile-status-bar">
                        <span>16:30</span>
                        <span>‚ö° üì∂ ‚óè‚óè‚óè‚óè</span>
                      </div>
                      <div class="mobile-content">
                        <div style="text-align: center; margin-bottom: 1.5rem;">
                          <div style="font-size: 2.5rem; margin-bottom: 0.5rem;">üìã</div>
                          <h4>Your Quotation is Ready</h4>
                          <p style="font-size: 0.85rem; color: var(--text-muted);">Quote #Q-5921</p>
                        </div>

                        <div class="customer-card">
                          <h5 style="margin-bottom: 0.75rem;">Kashmir White Granite Countertop</h5>
                          <p style="font-size: 0.85rem; color: var(--text-muted); margin-bottom: 1rem;">
                            Based on technical visit Nov 19, 2025
                          </p>

                          <div style="background: rgba(255, 203, 50, 0.15); border-radius: 12px; padding: 1.25rem; text-align: center; margin-bottom: 1rem;">
                            <div style="font-size: 0.75rem; text-transform: uppercase; color: var(--text-muted); margin-bottom: 0.25rem;">Total Price</div>
                            <div style="font-size: 2.5rem; font-weight: 700; color: var(--yellow);">$1,517</div>
                            <div style="font-size: 0.8rem; color: var(--text-muted);">Including all materials & labor</div>
                          </div>

                          <h5 style="font-size: 0.85rem; margin-bottom: 0.5rem;">What's Included:</h5>
                          <div style="font-size: 0.85rem; line-height: 1.8; color: var(--text-muted);">
                            ‚úì Kashmir White granite (2.39 m¬≤)<br>
                            ‚úì Professional fabrication<br>
                            ‚úì Complete installation<br>
                            ‚úì Sink cutout (60cm undermount)<br>
                            ‚úì Old countertop removal<br>
                            ‚úì Wall reinforcement<br>
                            ‚úì Cleanup & disposal<br>
                            ‚úì 2-year warranty
                          </div>
                        </div>

                        <div class="info-panel" style="margin-bottom: 1rem;">
                          <h4>Next Steps</h4>
                          <p style="font-size: 0.85rem;">
                            Approve this quote to schedule your installation.
                            We'll contact you within 24 hours to arrange a convenient date.
                          </p>
                        </div>

                        <div class="job-actions">
                          <button class="btn-mobile-primary">‚úì Approve Quote</button>
                          <button class="btn-mobile-secondary">Request Changes</button>
                        </div>

                        <p style="text-align: center; font-size: 0.75rem; color: var(--text-muted); margin-top: 1rem;">
                          Questions? Call 1-800-YELLOW-G
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">üõ∞</div>
                    <div>
                      <h3>Operator Dashboard</h3>
                      <p>Quote Status Tracking</p>
                    </div>
                  </div>
                  <span class="view-badge badge-operator">Operator</span>
                </div>
                <div class="view-content">
                  <h4 style="margin-bottom: 1rem;">Pending Quote Approvals</h4>

                  <table class="so-table">
                    <thead>
                      <tr>
                        <th>Quote #</th>
                        <th>Customer</th>
                        <th>Value</th>
                        <th>Status</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr style="background: rgba(255, 203, 50, 0.1);">
                        <td><strong>Q-5921</strong></td>
                        <td>M. Roberts</td>
                        <td><strong>$1,517</strong></td>
                        <td><span class="status-dot dot-orange"></span>Awaiting Approval</td>
                      </tr>
                      <tr>
                        <td>Q-5918</td>
                        <td>A. Chen</td>
                        <td>$2,340</td>
                        <td><span class="status-dot dot-blue"></span>Under Review</td>
                      </tr>
                      <tr style="background: rgba(70, 211, 138, 0.1);">
                        <td>Q-5915</td>
                        <td>S. Martinez</td>
                        <td>$890</td>
                        <td><span class="status-dot dot-green"></span>Approved</td>
                      </tr>
                    </tbody>
                  </table>

                  <div class="dashboard-grid" style="grid-template-columns: repeat(3, 1fr); margin-top: 1.5rem;">
                    <div class="stat-card">
                      <div class="stat-label">Quotes Sent Today</div>
                      <div class="stat-value">12</div>
                      <div class="stat-change stat-positive">‚Üë 3 vs yesterday</div>
                    </div>
                    <div class="stat-card">
                      <div class="stat-label">Approval Rate</div>
                      <div class="stat-value">87%</div>
                      <div class="stat-change stat-positive">‚Üë 5% this month</div>
                    </div>
                    <div class="stat-card">
                      <div class="stat-label">Avg. Response Time</div>
                      <div class="stat-value">4.2h</div>
                      <div class="stat-change stat-positive">‚Üì 1.1h faster</div>
                    </div>
                  </div>

                  <div class="info-panel" style="margin-top: 1.5rem;">
                    <h4>Quote #Q-5921 Details</h4>
                    <p>
                      <strong>Sent:</strong> Nov 19, 4:28 PM<br>
                      <strong>Viewed:</strong> Nov 19, 4:30 PM (2 min after send)<br>
                      <strong>Technician:</strong> Marco Silva - Provider TechPro<br>
                      <strong>Conversion Probability:</strong> 89% (based on engagement)
                    </p>
                  </div>
                </div>
              </div>
            </div>
          `
        },

        // Step 5: Quote approved - conversion to installation SO
        {
          title: "Quote Approved - Installation Scheduled",
          progress: 100,
          notification: {
            title: "Quote Approved!",
            body: "Customer approved quote. Installation SO created automatically. Scheduling in progress.",
            action: "View installation order"
          },
          content: `
            <div class="demo-layout">
              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">‚úÖ</div>
                    <div>
                      <h3>Customer Confirmation</h3>
                      <p>Quote Approved</p>
                    </div>
                  </div>
                  <span class="view-badge badge-customer">Customer</span>
                </div>
                <div class="view-content">
                  <div class="customer-card" style="background: rgba(70, 211, 138, 0.15); border: 2px solid var(--accent-green); text-align: center;">
                    <div style="font-size: 3rem; margin-bottom: 0.5rem;">‚úÖ</div>
                    <h4 style="font-size: 1.3rem; margin-bottom: 0.5rem; color: var(--accent-green);">Quote Approved!</h4>
                    <p style="color: var(--text-muted); margin-bottom: 1rem;">Thank you for choosing YellowGrid</p>
                    <div style="background: var(--bg-alt); border-radius: 12px; padding: 1rem; text-align: left;">
                      <div style="font-size: 0.85rem; color: var(--text-muted); margin-bottom: 0.5rem;">Approved Amount</div>
                      <div style="font-size: 2rem; font-weight: 700; color: var(--accent-green); margin-bottom: 1rem;">$1,517</div>
                      <div style="font-size: 0.85rem; line-height: 1.6;">
                        <strong>Next Steps:</strong><br>
                        ‚úì Your installation is being scheduled<br>
                        ‚úì You'll receive appointment details within 24h<br>
                        ‚úì Payment due upon completion
                      </div>
                    </div>
                  </div>

                  <div class="customer-card">
                    <h5 style="margin-bottom: 0.75rem;">Order Summary</h5>
                    <div class="job-detail-row">
                      <span>üìã</span>
                      <span>Service Order #SO-45923 created</span>
                    </div>
                    <div class="job-detail-row">
                      <span>üè†</span>
                      <span>456 Oak Avenue</span>
                    </div>
                    <div class="job-detail-row">
                      <span>üì¶</span>
                      <span>Kashmir White Granite Countertop</span>
                    </div>
                    <div class="job-detail-row">
                      <span>‚è±</span>
                      <span>Estimated: 1 day installation</span>
                    </div>
                  </div>

                  <div class="info-panel">
                    <h4>Documents</h4>
                    <p style="font-size: 0.9rem;">
                      üìÑ Technical Report #TV-5921<br>
                      üí∞ Quote #Q-5921 (Approved)<br>
                      üìã Installation Order #SO-45923<br>
                      <br>
                      <span style="color: var(--accent-blue); cursor: pointer;">Download all documents ‚Üí</span>
                    </p>
                  </div>
                </div>
              </div>

              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">üéâ</div>
                    <div>
                      <h3>System Automation</h3>
                      <p>Quote-to-Installation Flow</p>
                    </div>
                  </div>
                  <span class="view-badge badge-operator">System</span>
                </div>
                <div class="view-content">
                  <h4 style="margin-bottom: 1rem;">Automated Workflow Triggered</h4>

                  <div class="tracking-timeline">
                    <div class="tracking-step">
                      <h5>‚úÖ Quote Approved by Customer</h5>
                      <p>Michael Roberts approved $1,517 quote</p>
                      <small>Nov 19, 6:45 PM</small>
                    </div>
                    <div class="tracking-step">
                      <h5>‚úÖ Installation SO Created</h5>
                      <p>SO #45923 auto-generated from quote data</p>
                      <small>6:45:05 PM</small>
                    </div>
                    <div class="tracking-step">
                      <h5>‚úÖ Materials Ordered</h5>
                      <p>Kashmir White granite reserved from supplier</p>
                      <small>6:45:12 PM</small>
                    </div>
                    <div class="tracking-step">
                      <h5>‚úÖ Crew Matching Started</h5>
                      <p>Finding certified granite installers in Zone 3</p>
                      <small>6:45:20 PM</small>
                    </div>
                    <div class="tracking-step">
                      <h5>‚úÖ TV Service Closed</h5>
                      <p>TV #TV-5921 marked complete, payment released to TechPro</p>
                      <small>6:45:30 PM</small>
                    </div>
                    <div class="tracking-step">
                      <h5>üî® Installation Scheduling</h5>
                      <p>Coordinating material delivery + crew availability</p>
                      <small>In progress...</small>
                    </div>
                  </div>

                  <div class="info-panel" style="margin-top: 1.5rem;">
                    <h4>üìä TV-to-Installation Metrics</h4>
                    <p>
                      <strong>Quote Approved:</strong> 2h 17min after TV completion<br>
                      <strong>Conversion Time:</strong> Instant (automated)<br>
                      <strong>Data Reused:</strong> 100% (no re-entry)<br>
                      <strong>Next Step:</strong> Installation crew will be assigned within 12 hours
                    </p>
                  </div>

                  <div class="customer-card" style="background: rgba(70, 211, 138, 0.1); border: 2px solid var(--accent-green); margin-top: 1.5rem;">
                    <div style="text-align: center;">
                      <h5 style="color: var(--accent-green); margin-bottom: 0.5rem;">Complete Workflow Success!</h5>
                      <p style="font-size: 0.9rem; color: var(--text-muted);">
                        From technical visit request to approved installation order<br>
                        <strong>Total time:</strong> 1 day 8 hours | <strong>Customer touches:</strong> 2 (request + approve)
                      </p>
                    </div>
                  </div>

                  <div class="action-buttons" style="margin-top: 1.5rem;">
                    <button class="btn btn-primary" onclick="resetDemo()">
                      üîÑ Try Another Scenario
                    </button>
                    <button class="btn btn-secondary" onclick="window.location.href='index.html'">
                      ‚Üê Back to Home
                    </button>
                  </div>
                </div>
              </div>
            </div>
          `
        }
      ],

      // Installation Package with TV Confirmation Workflow
      package: [
        // Step 0: Customer orders bathroom renovation package
        {
          title: "Package Order Received",
          progress: 0,
          content: `
            <div class="demo-layout">
              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">üõÅ</div>
                    <div>
                      <h3>Customer Purchase</h3>
                      <p>Bathroom Renovation Package</p>
                    </div>
                  </div>
                  <span class="view-badge badge-customer">Customer</span>
                </div>
                <div class="view-content">
                  <h4 style="margin-bottom: 1rem;">Package Selected</h4>

                  <div class="customer-card">
                    <h5 style="font-size: 1.1rem; margin-bottom: 0.75rem;">Complete Bathroom Refresh Package</h5>
                    <div class="job-detail-row">
                      <span>üöø</span>
                      <span>Shower installation + vanity + toilet</span>
                    </div>
                    <div class="job-detail-row">
                      <span>üí∞</span>
                      <span>Package Price: $4,850</span>
                    </div>
                    <div class="job-detail-row">
                      <span>üìç</span>
                      <span>789 Pine Street, Apt 12C</span>
                    </div>
                    <div class="job-detail-row">
                      <span>‚ö†</span>
                      <span>Requires confirmation visit first</span>
                    </div>
                    <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid var(--border-subtle);">
                      <p style="font-size: 0.9rem; color: var(--text-muted);">
                        <strong>What's included:</strong><br>
                        ‚úì Technical Visit to confirm measurements<br>
                        ‚úì Walk-in shower with glass doors<br>
                        ‚úì Modern vanity unit with sink<br>
                        ‚úì Dual-flush toilet<br>
                        ‚úì Complete installation & plumbing
                      </p>
                    </div>
                  </div>

                  <div class="info-panel">
                    <h4>Two-Phase Process</h4>
                    <p>First, a technician will visit to confirm all measurements and site conditions. Once approved, installation will be scheduled.</p>
                  </div>
                </div>
              </div>

              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">üéØ</div>
                    <div>
                      <h3>System Processing</h3>
                      <p>Multi-SO Creation</p>
                    </div>
                  </div>
                  <span class="view-badge badge-operator">System</span>
                </div>
                <div class="view-content">
                  <h4 style="margin-bottom: 1rem;">Package Decomposition</h4>

                  <div class="tracking-timeline">
                    <div class="tracking-step">
                      <h5>‚úÖ Order Received</h5>
                      <p>Bathroom Refresh Package purchased</p>
                      <small>Nov 15, 11:30 AM</small>
                    </div>
                    <div class="tracking-step">
                      <h5>‚úÖ SO #TV-6001 Created</h5>
                      <p>Technical Visit for confirmation</p>
                      <small>11:30:08 AM</small>
                    </div>
                    <div class="tracking-step">
                      <h5>‚úÖ SO #45950 Created (Blocked)</h5>
                      <p>Installation - waiting for TV approval</p>
                      <small>11:30:10 AM</small>
                    </div>
                    <div class="tracking-step pending">
                      <h5>‚è≥ TV Scheduling</h5>
                      <p>Finding technician for confirmation visit...</p>
                      <small>In progress...</small>
                    </div>
                  </div>

                  <div class="customer-card" style="background: rgba(167, 139, 250, 0.1); border: 2px solid var(--accent-purple);">
                    <h5 style="margin-bottom: 0.75rem; color: var(--accent-purple);">Service Order Dependencies</h5>
                    <div style="font-size: 0.9rem; line-height: 1.8;">
                      <strong>TV-6001:</strong> Confirmation Visit<br>
                      <span style="color: var(--accent-green);">‚îî‚îÄ Status: Scheduling</span><br>
                      <br>
                      <strong>SO-45950:</strong> Installation<br>
                      <span style="color: var(--text-muted);">‚îî‚îÄ Blocked by: TV-6001 approval</span>
                    </div>
                  </div>

                  <div class="action-buttons" style="margin-top: 1.5rem;">
                    <button class="btn btn-primary" onclick="nextStep()">
                      üéØ Schedule TV Visit ‚Üí
                    </button>
                  </div>
                </div>
              </div>
            </div>
          `
        },

        // Step 1: TV scheduled
        {
          title: "Confirmation Visit Scheduled",
          progress: 15,
          notification: {
            title: "TV Scheduled",
            body: "Confirmation visit scheduled for Nov 17 at 3:00 PM",
            action: "View appointment"
          },
          content: `
            <div class="demo-layout">
              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">üì±</div>
                    <div>
                      <h3>Customer Notification</h3>
                      <p>SMS Confirmation</p>
                    </div>
                  </div>
                  <span class="view-badge badge-customer">Customer</span>
                </div>
                <div class="view-content">
                  <div class="customer-card" style="background: rgba(74, 158, 255, 0.1); border: 2px solid rgba(74, 158, 255, 0.3);">
                    <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem;">
                      <span style="font-size: 2rem;">üí¨</span>
                      <div>
                        <div style="font-size: 0.75rem; color: var(--text-muted);">From: YellowGrid</div>
                        <div style="font-size: 0.85rem;">Nov 15, 11:35 AM</div>
                      </div>
                    </div>
                    <p style="line-height: 1.6; font-size: 0.95rem;">
                      Hi Emma! Your bathroom refresh package is confirmed. A technician will visit on <strong>Friday, Nov 17 at 3:00 PM</strong> to verify measurements and site conditions. Installation will be scheduled after approval. Track: <span style="color: var(--accent-blue);">track.yellowgrid.app/tv-6001</span>
                    </p>
                  </div>

                  <div class="customer-card">
                    <h5 style="margin-bottom: 0.75rem;">Confirmation Visit Details</h5>
                    <div class="job-detail-row">
                      <span>üìÖ</span>
                      <span>Friday, Nov 17, 2025 - 3:00 PM</span>
                    </div>
                    <div class="job-detail-row">
                      <span>‚è±</span>
                      <span>Duration: ~30 minutes</span>
                    </div>
                    <div class="job-detail-row">
                      <span>üë§</span>
                      <span>Technician: Carlos (Provider InstallPro)</span>
                    </div>
                    <div class="job-detail-row">
                      <span>üìã</span>
                      <span>Will verify: space, plumbing, electrical</span>
                    </div>
                  </div>

                  <div class="info-panel">
                    <h4>Why the confirmation visit?</h4>
                    <p>For complex packages, we verify all site conditions match the package requirements before scheduling the full installation. This prevents delays and ensures we have everything ready.</p>
                  </div>
                </div>
              </div>

              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">üõ∞</div>
                    <div>
                      <h3>Operator Dashboard</h3>
                      <p>Package Tracking</p>
                    </div>
                  </div>
                  <span class="view-badge badge-operator">Operator</span>
                </div>
                <div class="view-content">
                  <h4 style="margin-bottom: 1rem;">Package Service Orders</h4>

                  <table class="so-table">
                    <thead>
                      <tr>
                        <th>SO #</th>
                        <th>Type</th>
                        <th>Date</th>
                        <th>Status</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr style="background: rgba(74, 158, 255, 0.1);">
                        <td><strong>TV-6001</strong></td>
                        <td>Confirmation Visit</td>
                        <td>Nov 17, 3:00 PM</td>
                        <td><span class="status-dot dot-blue"></span>Scheduled</td>
                      </tr>
                      <tr style="opacity: 0.6;">
                        <td>SO-45950</td>
                        <td>Installation</td>
                        <td>Pending TV approval</td>
                        <td><span class="status-dot dot-orange"></span>Blocked</td>
                      </tr>
                    </tbody>
                  </table>

                  <div class="customer-card" style="margin-top: 1.5rem;">
                    <h5 style="margin-bottom: 0.75rem;">Package: Bathroom Refresh</h5>
                    <div style="font-size: 0.9rem; line-height: 1.6;">
                      <strong>Customer:</strong> Emma Wilson<br>
                      <strong>Address:</strong> 789 Pine Street, Apt 12C<br>
                      <strong>Value:</strong> $4,850<br>
                      <strong>Progress:</strong> TV Phase (15%)<br>
                    </div>
                  </div>

                  <div class="info-panel" style="margin-top: 1.5rem;">
                    <h4>Workflow Logic</h4>
                    <p>
                      Installation SO-45950 is automatically blocked until TV-6001 is completed and approved. If TV finds issues, the package can be adjusted before installation begins.
                    </p>
                  </div>
                </div>
              </div>
            </div>
          `
        },

        // Step 2: TV completed, site approved
        {
          title: "Site Confirmed - Installation Released",
          progress: 35,
          notification: {
            title: "Confirmation Complete",
            body: "Site verified successfully. Installation SO released for scheduling.",
            action: "View results"
          },
          content: `
            <div class="demo-layout">
              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">‚úÖ</div>
                    <div>
                      <h3>TV Completion</h3>
                      <p>Site Verified</p>
                    </div>
                  </div>
                  <span class="view-badge badge-crew">Technician</span>
                </div>
                <div class="view-content">
                  <div class="customer-card" style="background: rgba(70, 211, 138, 0.15); border: 2px solid var(--accent-green);">
                    <div style="text-align: center; margin-bottom: 1rem;">
                      <div style="font-size: 3rem;">‚úÖ</div>
                      <h4 style="color: var(--accent-green); margin-bottom: 0.25rem;">Site Confirmed</h4>
                      <p style="font-size: 0.85rem; color: var(--text-muted);">TV #TV-6001 Complete</p>
                    </div>
                  </div>

                  <div class="customer-card">
                    <h5 style="margin-bottom: 0.75rem;">Verification Results</h5>
                    <div style="font-size: 0.9rem; line-height: 1.8;">
                      ‚úÖ Bathroom dimensions verified (2.4m x 1.8m)<br>
                      ‚úÖ Plumbing connections accessible<br>
                      ‚úÖ Electrical outlets adequate<br>
                      ‚úÖ Drain position matches specifications<br>
                      ‚úÖ Wall structure suitable for fixtures<br>
                      ‚úÖ No modifications required
                    </div>
                  </div>

                  <div class="customer-card">
                    <h5 style="margin-bottom: 0.75rem;">Photos Captured (6)</h5>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 0.5rem;">
                      <div style="aspect-ratio: 1; background: var(--bg-alt); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">üì∏</div>
                      <div style="aspect-ratio: 1; background: var(--bg-alt); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">üì∏</div>
                      <div style="aspect-ratio: 1; background: var(--bg-alt); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">üì∏</div>
                      <div style="aspect-ratio: 1; background: var(--bg-alt); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">üì∏</div>
                      <div style="aspect-ratio: 1; background: var(--bg-alt); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">üì∏</div>
                      <div style="aspect-ratio: 1; background: var(--bg-alt); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">üì∏</div>
                    </div>
                  </div>

                  <div class="info-panel">
                    <h4>Technician Notes</h4>
                    <p style="font-size: 0.9rem;">
                      "Site is perfect for installation. All package items can be installed as planned. Customer mentioned preference for glass shower door instead of curtain - already included in package. Ready to proceed."
                    </p>
                  </div>
                </div>
              </div>

              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">üéØ</div>
                    <div>
                      <h3>Automatic Workflow</h3>
                      <p>SO Release Triggered</p>
                    </div>
                  </div>
                  <span class="view-badge badge-operator">System</span>
                </div>
                <div class="view-content">
                  <h4 style="margin-bottom: 1rem;">Dependency Resolution</h4>

                  <div class="tracking-timeline">
                    <div class="tracking-step">
                      <h5>‚úÖ TV-6001 Marked Complete</h5>
                      <p>Technician confirmed site approval</p>
                      <small>Nov 17, 3:25 PM</small>
                    </div>
                    <div class="tracking-step">
                      <h5>‚úÖ Photos & Report Uploaded</h5>
                      <p>6 photos and verification data synced</p>
                      <small>3:25:10 PM</small>
                    </div>
                    <div class="tracking-step">
                      <h5>‚úÖ SO-45950 Unblocked</h5>
                      <p>Installation SO released from hold</p>
                      <small>3:25:15 PM</small>
                    </div>
                    <div class="tracking-step">
                      <h5>‚úÖ Crew Matching Started</h5>
                      <p>Finding bathroom installation crew...</p>
                      <small>3:25:20 PM</small>
                    </div>
                    <div class="tracking-step">
                      <h5>üî® Materials Reserved</h5>
                      <p>Shower, vanity, toilet allocated from warehouse</p>
                      <small>3:25:30 PM</small>
                    </div>
                  </div>

                  <div class="customer-card" style="background: rgba(255, 203, 50, 0.1); border: 2px solid var(--yellow); margin-top: 1.5rem;">
                    <h5 style="color: var(--yellow); margin-bottom: 0.75rem;">Status Update</h5>
                    <table style="width: 100%; font-size: 0.9rem;">
                      <tr>
                        <td style="padding: 0.5rem 0;">TV-6001:</td>
                        <td style="padding: 0.5rem 0; text-align: right; color: var(--accent-green); font-weight: 600;">‚úÖ Complete</td>
                      </tr>
                      <tr>
                        <td style="padding: 0.5rem 0;">SO-45950:</td>
                        <td style="padding: 0.5rem 0; text-align: right; color: var(--accent-blue); font-weight: 600;">üîÑ Scheduling</td>
                      </tr>
                      <tr>
                        <td style="padding: 0.5rem 0;">Customer Notification:</td>
                        <td style="padding: 0.5rem 0; text-align: right; font-weight: 600;">‚è≥ Pending</td>
                      </tr>
                    </table>
                  </div>

                  <div class="action-buttons" style="margin-top: 1.5rem;">
                    <button class="btn btn-primary" onclick="nextStep()">
                      üë∑ Match Installation Crew ‚Üí
                    </button>
                  </div>
                </div>
              </div>
            </div>
          `
        },

        // Step 3: Installation crew matched
        {
          title: "Installation Crew Assigned",
          progress: 50,
          notification: {
            title: "Crew Matched",
            body: "BathPro Crew Team assigned for full bathroom installation",
            action: "View crew details"
          },
          content: `
            <div class="demo-layout">
              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">üë∑</div>
                    <div>
                      <h3>Crew Notification</h3>
                      <p>Provider BathPro</p>
                    </div>
                  </div>
                  <span class="view-badge badge-crew">Crew</span>
                </div>
                <div class="view-content">
                  <div class="mobile-mockup">
                    <div class="mobile-screen">
                      <div class="mobile-status-bar">
                        <span>15:28</span>
                        <span>‚ö° üì∂ ‚óè‚óè‚óè‚óè</span>
                      </div>
                      <div class="mobile-content">
                        <div class="mobile-header">
                          <h4>New Assignment</h4>
                          <div class="notification-badge">1</div>
                        </div>

                        <div class="job-card-mobile">
                          <h5>üîî Large Job - Bathroom Package</h5>
                          <div class="job-detail-row">
                            <span>üõÅ</span>
                            <span>Full Bathroom Installation</span>
                          </div>
                          <div class="job-detail-row">
                            <span>üìÖ</span>
                            <span>Nov 22, 2025 - 9:00 AM</span>
                          </div>
                          <div class="job-detail-row">
                            <span>üìç</span>
                            <span>789 Pine St, Apt 12C (6.8 km)</span>
                          </div>
                          <div class="job-detail-row">
                            <span>‚è±</span>
                            <span>Estimated: Full day (8h)</span>
                          </div>
                          <div class="job-detail-row">
                            <span>üí∞</span>
                            <span>Value: $4,850</span>
                          </div>
                          <div class="job-detail-row">
                            <span>üì¶</span>
                            <span>Items: Shower + Vanity + Toilet</span>
                          </div>
                          <div class="job-detail-row">
                            <span>üë•</span>
                            <span>Team size: 2 technicians recommended</span>
                          </div>
                          <div class="job-actions">
                            <button class="btn-mobile-primary">Accept Job</button>
                            <button class="btn-mobile-secondary">View Full Details</button>
                          </div>
                        </div>

                        <div style="background: rgba(74, 158, 255, 0.1); border-radius: 12px; padding: 1rem; margin-top: 1rem;">
                          <h5 style="font-size: 0.85rem; margin-bottom: 0.5rem;">Pre-Visit Notes</h5>
                          <p style="font-size: 0.8rem; color: var(--text-muted);">
                            ‚Ä¢ Site confirmed by TV on Nov 17<br>
                            ‚Ä¢ All materials ready at warehouse<br>
                            ‚Ä¢ Apartment 12C - use service elevator<br>
                            ‚Ä¢ Customer prefers glass shower doors
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">üéØ</div>
                    <div>
                      <h3>Operator View</h3>
                      <p>Crew Matching Results</p>
                    </div>
                  </div>
                  <span class="view-badge badge-operator">Operator</span>
                </div>
                <div class="view-content">
                  <h4 style="margin-bottom: 1rem;">Crew Selection</h4>

                  <table class="so-table">
                    <thead>
                      <tr>
                        <th>Crew</th>
                        <th>Specialization</th>
                        <th>Score</th>
                        <th>Status</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr style="background: rgba(70, 211, 138, 0.1);">
                        <td><strong>BathPro Team</strong></td>
                        <td>Bathroom Specialist</td>
                        <td><span style="color: var(--accent-green);">96/100</span></td>
                        <td><span class="status-dot dot-green"></span>Selected</td>
                      </tr>
                      <tr>
                        <td>GeneralFix Crew C</td>
                        <td>Multi-service</td>
                        <td>84/100</td>
                        <td><span class="status-dot dot-orange"></span>Available</td>
                      </tr>
                      <tr style="opacity: 0.6;">
                        <td>PlumbPro Team 2</td>
                        <td>Plumbing only</td>
                        <td>78/100</td>
                        <td><span class="status-dot dot-red"></span>Filtered</td>
                      </tr>
                    </tbody>
                  </table>

                  <div class="info-panel" style="margin-top: 1.5rem;">
                    <h4>Why BathPro Team?</h4>
                    <p>
                      <strong>Top match for complex bathroom installations:</strong><br>
                      ‚úì Bathroom renovation certification<br>
                      ‚úì 2-person team available<br>
                      ‚úì 94% completion rate on packages<br>
                      ‚úì Shower door installation expertise<br>
                      ‚úì Available Nov 22 (5 days lead time)<br>
                      ‚úì Previous TV report pre-loaded
                    </p>
                  </div>

                  <div class="customer-card" style="margin-top: 1.5rem;">
                    <h5 style="margin-bottom: 0.75rem;">Installation Timeline</h5>
                    <div style="font-size: 0.9rem; line-height: 1.6;">
                      <strong>Scheduled:</strong> Friday, Nov 22, 2025<br>
                      <strong>Start Time:</strong> 9:00 AM<br>
                      <strong>Duration:</strong> 8 hours (full day)<br>
                      <strong>Crew:</strong> 2 technicians<br>
                      <strong>Materials:</strong> Ready for pickup Nov 21
                    </div>
                  </div>
                </div>
              </div>
            </div>
          `
        },

        // Step 4: Customer notified, installation scheduled
        {
          title: "Installation Day Confirmed",
          progress: 65,
          notification: {
            title: "Installation Scheduled",
            body: "Customer notified. Installation confirmed for Nov 22 at 9:00 AM",
            action: "View notification"
          },
          content: `
            <div class="demo-layout">
              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">üì±</div>
                    <div>
                      <h3>Customer Notification</h3>
                      <p>Installation Scheduled</p>
                    </div>
                  </div>
                  <span class="view-badge badge-customer">Customer</span>
                </div>
                <div class="view-content">
                  <div class="customer-card" style="background: rgba(74, 158, 255, 0.1); border: 2px solid rgba(74, 158, 255, 0.3);">
                    <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem;">
                      <span style="font-size: 2rem;">üí¨</span>
                      <div>
                        <div style="font-size: 0.75rem; color: var(--text-muted);">From: YellowGrid</div>
                        <div style="font-size: 0.85rem;">Nov 17, 3:30 PM</div>
                      </div>
                    </div>
                    <p style="line-height: 1.6; font-size: 0.95rem;">
                      Great news Emma! Your bathroom has been verified and your installation is scheduled for <strong>Friday, Nov 22 at 9:00 AM</strong>. The BathPro team (2 technicians) will complete your shower, vanity, and toilet installation in one day. They'll call 30 min before arrival.
                    </p>
                  </div>

                  <div class="customer-card">
                    <div class="appointment-header">
                      <div>
                        <div class="appointment-date">22</div>
                        <div class="appointment-month">November</div>
                      </div>
                      <div style="text-align: right;">
                        <div style="font-size: 1.5rem; font-weight: 700;">9:00 AM</div>
                        <div style="font-size: 0.85rem; color: var(--text-muted);">Full day - 8 hours</div>
                      </div>
                    </div>

                    <div style="margin-top: 1.5rem;">
                      <h5 style="margin-bottom: 0.75rem;">What to Expect</h5>
                      <div style="font-size: 0.9rem; line-height: 1.8; color: var(--text-muted);">
                        ‚Ä¢ 2-person professional team<br>
                        ‚Ä¢ Installation of all 3 fixtures<br>
                        ‚Ä¢ Plumbing connections & testing<br>
                        ‚Ä¢ Cleanup included<br>
                        ‚Ä¢ Digital sign-off at completion
                      </div>
                    </div>
                  </div>

                  <div class="info-panel">
                    <h4>Preparation Checklist</h4>
                    <p>
                      ‚òê Clear bathroom of personal items<br>
                      ‚òê Ensure service elevator access<br>
                      ‚òê Water main location accessible<br>
                      ‚òê Someone 18+ home for sign-off
                    </p>
                  </div>

                  <div class="customer-card">
                    <h5 style="margin-bottom: 0.75rem;">Package Progress</h5>
                    <div class="tracking-timeline">
                      <div class="tracking-step">
                        <h5>‚úÖ Package Purchased</h5>
                        <small>Nov 15</small>
                      </div>
                      <div class="tracking-step">
                        <h5>‚úÖ Site Confirmed</h5>
                        <small>Nov 17</small>
                      </div>
                      <div class="tracking-step pending">
                        <h5>Installation Day</h5>
                        <small>Nov 22 - Upcoming</small>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">üõ∞</div>
                    <div>
                      <h3>Operator Control Tower</h3>
                      <p>Package Status</p>
                    </div>
                  </div>
                  <span class="view-badge badge-operator">Operator</span>
                </div>
                <div class="view-content">
                  <h4 style="margin-bottom: 1rem;">Package Workflow Complete</h4>

                  <div class="customer-card" style="background: rgba(70, 211, 138, 0.1); border: 2px solid var(--accent-green);">
                    <h5 style="color: var(--accent-green); margin-bottom: 0.75rem;">All Pre-Installation Steps Complete</h5>
                    <div style="font-size: 0.9rem; line-height: 1.8;">
                      ‚úÖ Package order received<br>
                      ‚úÖ TV visit scheduled<br>
                      ‚úÖ Site confirmed & approved<br>
                      ‚úÖ Installation SO released<br>
                      ‚úÖ Crew assigned (BathPro)<br>
                      ‚úÖ Materials reserved<br>
                      ‚úÖ Customer notified<br>
                      ‚úÖ Ready for execution
                    </div>
                  </div>

                  <div class="dashboard-grid" style="grid-template-columns: repeat(2, 1fr); margin-top: 1.5rem;">
                    <div class="stat-card">
                      <div class="stat-label">Package Value</div>
                      <div class="stat-value">$4,850</div>
                    </div>
                    <div class="stat-card">
                      <div class="stat-label">Time to Schedule</div>
                      <div class="stat-value">7 days</div>
                      <div class="stat-change stat-positive">On target</div>
                    </div>
                  </div>

                  <div class="info-panel" style="margin-top: 1.5rem;">
                    <h4>üìä Package Performance</h4>
                    <p>
                      <strong>Order to TV:</strong> 2 days<br>
                      <strong>TV to Installation:</strong> 5 days<br>
                      <strong>Total Lead Time:</strong> 7 days<br>
                      <strong>Service Orders:</strong> 2 (1 complete, 1 scheduled)<br>
                      <strong>Customer Touches:</strong> 3 (order, TV confirm, install confirm)
                    </p>
                  </div>
                </div>
              </div>
            </div>
          `
        },

        // Step 5: Installation in progress
        {
          title: "Installation in Progress",
          progress: 85,
          notification: {
            title: "Crew On-Site",
            body: "BathPro team has checked in. Installation is underway.",
            action: "Monitor progress"
          },
          content: `
            <div class="demo-layout">
              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">üî®</div>
                    <div>
                      <h3>Crew Mobile App</h3>
                      <p>Active Installation</p>
                    </div>
                  </div>
                  <span class="view-badge badge-crew">Crew</span>
                </div>
                <div class="view-content">
                  <div class="mobile-mockup">
                    <div class="mobile-screen">
                      <div class="mobile-status-bar">
                        <span>12:15</span>
                        <span>‚ö° üì∂ ‚óè‚óè‚óè‚óè</span>
                      </div>
                      <div class="mobile-content">
                        <div class="mobile-header">
                          <h4>Bathroom Installation</h4>
                          <div style="background: var(--accent-green); padding: 0.35rem 0.75rem; border-radius: 999px; font-size: 0.75rem;">
                            IN PROGRESS
                          </div>
                        </div>

                        <div class="job-card-mobile">
                          <h5>SO #45950 - Bathroom Refresh Package</h5>
                          <div class="job-detail-row">
                            <span>üë§</span>
                            <span>Customer: Emma Wilson</span>
                          </div>
                          <div class="job-detail-row">
                            <span>üìç</span>
                            <span>789 Pine St, Apt 12C</span>
                          </div>
                          <div class="job-detail-row">
                            <span>‚è±</span>
                            <span>Checked in: 9:05 AM (3h 10min ago)</span>
                          </div>
                          <div class="job-detail-row">
                            <span>üë•</span>
                            <span>Team: Mike + Carlos</span>
                          </div>
                        </div>

                        <h5 style="margin: 1rem 0 0.75rem;">Installation Checklist</h5>
                        <div style="background: var(--bg-alt); border-radius: 12px; padding: 1rem; margin-bottom: 1rem;">
                          <div style="margin-bottom: 0.75rem;">
                            <label style="display: flex; align-items: center; gap: 0.5rem; font-size: 0.9rem;">
                              <input type="checkbox" checked disabled style="width: 18px; height: 18px;">
                              <span style="text-decoration: line-through; color: var(--text-muted);">Remove old fixtures</span>
                            </label>
                          </div>
                          <div style="margin-bottom: 0.75rem;">
                            <label style="display: flex; align-items: center; gap: 0.5rem; font-size: 0.9rem;">
                              <input type="checkbox" checked disabled style="width: 18px; height: 18px;">
                              <span style="text-decoration: line-through; color: var(--text-muted);">Install shower base & drain</span>
                            </label>
                          </div>
                          <div style="margin-bottom: 0.75rem;">
                            <label style="display: flex; align-items: center; gap: 0.5rem; font-size: 0.9rem;">
                              <input type="checkbox" checked disabled style="width: 18px; height: 18px;">
                              <span style="text-decoration: line-through; color: var(--text-muted);">Connect plumbing for shower</span>
                            </label>
                          </div>
                          <div style="margin-bottom: 0.75rem;">
                            <label style="display: flex; align-items: center; gap: 0.5rem; font-size: 0.9rem;">
                              <input type="checkbox" checked disabled style="width: 18px; height: 18px;">
                              <span style="text-decoration: line-through; color: var(--text-muted);">Install vanity unit</span>
                            </label>
                          </div>
                          <div style="margin-bottom: 0.75rem;">
                            <label style="display: flex; align-items: center; gap: 0.5rem; font-size: 0.9rem;">
                              <input type="checkbox" style="width: 18px; height: 18px;">
                              <span class="pulse">Install glass shower doors</span>
                            </label>
                          </div>
                          <div style="margin-bottom: 0.75rem;">
                            <label style="display: flex; align-items: center; gap: 0.5rem; font-size: 0.9rem;">
                              <input type="checkbox" style="width: 18px; height: 18px;">
                              <span>Install toilet</span>
                            </label>
                          </div>
                          <div>
                            <label style="display: flex; align-items: center; gap: 0.5rem; font-size: 0.9rem;">
                              <input type="checkbox" style="width: 18px; height: 18px;">
                              <span>Test all fixtures & clean up</span>
                            </label>
                          </div>
                        </div>

                        <div style="background: rgba(255, 203, 50, 0.15); border-radius: 12px; padding: 1rem; text-align: center;">
                          <div style="font-size: 0.75rem; color: var(--text-muted); margin-bottom: 0.25rem;">Progress</div>
                          <div style="font-size: 2rem; font-weight: 700; color: var(--yellow);">70%</div>
                          <div style="font-size: 0.8rem; color: var(--text-muted);">Est. completion: 4:30 PM</div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">üõ∞</div>
                    <div>
                      <h3>Live Monitoring</h3>
                      <p>Operator Dashboard</p>
                    </div>
                  </div>
                  <span class="view-badge badge-operator">Operator</span>
                </div>
                <div class="view-content">
                  <h4 style="margin-bottom: 1rem;">Active Installations</h4>

                  <div class="customer-card" style="background: rgba(255, 203, 50, 0.1); border: 2px solid var(--yellow);">
                    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;">
                      <div>
                        <h5 style="font-size: 1.1rem;">#45950 - Bathroom Package</h5>
                        <p style="font-size: 0.85rem; color: var(--text-muted);">Emma Wilson, 789 Pine St Apt 12C</p>
                      </div>
                      <div style="background: var(--yellow); color: #1b1305; padding: 0.4rem 0.85rem; border-radius: 999px; font-size: 0.75rem; font-weight: 600;">
                        70% COMPLETE
                      </div>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin-bottom: 1rem;">
                      <div>
                        <div style="font-size: 0.75rem; color: var(--text-muted);">Time on Site</div>
                        <div style="font-size: 1rem; font-weight: 600;">3h 10min</div>
                      </div>
                      <div>
                        <div style="font-size: 0.75rem; color: var(--text-muted);">Team Size</div>
                        <div style="font-size: 1rem; font-weight: 600;">2 techs</div>
                      </div>
                      <div>
                        <div style="font-size: 0.75rem; color: var(--text-muted);">Photos</div>
                        <div style="font-size: 1rem; font-weight: 600;">8</div>
                      </div>
                    </div>

                    <div class="tracking-timeline">
                      <div class="tracking-step">
                        <h5>‚úÖ Checked In</h5>
                        <small>9:05 AM</small>
                      </div>
                      <div class="tracking-step">
                        <h5>‚úÖ Demolition Complete</h5>
                        <small>10:20 AM</small>
                      </div>
                      <div class="tracking-step">
                        <h5>‚úÖ Shower & Vanity Installed</h5>
                        <small>12:00 PM</small>
                      </div>
                      <div class="tracking-step">
                        <h5>üî® Glass Doors In Progress</h5>
                        <small>12:15 PM - Now</small>
                      </div>
                      <div class="tracking-step pending">
                        <h5>‚è≥ Toilet & Testing</h5>
                        <small>Est. 3:00 PM</small>
                      </div>
                    </div>
                  </div>

                  <div class="info-panel" style="margin-top: 1.5rem;">
                    <h4>üìä Package Execution</h4>
                    <p>
                      <strong>Linked TV Visit:</strong> TV-6001 (completed Nov 17)<br>
                      <strong>Pre-Visit Photos:</strong> 6 reference images available<br>
                      <strong>Current Progress:</strong> On schedule<br>
                      <strong>Issues Reported:</strong> None<br>
                      <strong>Est. Completion:</strong> 4:30 PM (on time)
                    </p>
                  </div>
                </div>
              </div>
            </div>
          `
        },

        // Step 6: WCF signed, both SOs closed
        {
          title: "Package Complete - All SOs Closed",
          progress: 100,
          notification: {
            title: "Package Complete!",
            body: "Customer signed WCF. Both TV and Installation SOs closed successfully.",
            action: "View completion"
          },
          content: `
            <div class="demo-layout">
              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">‚úÖ</div>
                    <div>
                      <h3>Customer Sign-Off</h3>
                      <p>WCF Digital Signature</p>
                    </div>
                  </div>
                  <span class="view-badge badge-customer">Customer</span>
                </div>
                <div class="view-content">
                  <div class="customer-card" style="background: rgba(70, 211, 138, 0.15); border: 2px solid var(--accent-green); text-align: center;">
                    <div style="font-size: 3rem; margin-bottom: 0.5rem;">‚úÖ</div>
                    <h4 style="font-size: 1.3rem; margin-bottom: 0.5rem; color: var(--accent-green);">Bathroom Complete!</h4>
                    <p style="color: var(--text-muted);">Installation finished and approved</p>
                  </div>

                  <div class="customer-card">
                    <h5 style="margin-bottom: 0.75rem;">Work Completed</h5>
                    <div style="font-size: 0.9rem; line-height: 1.8;">
                      ‚úÖ Walk-in shower with glass doors<br>
                      ‚úÖ Modern vanity unit with sink<br>
                      ‚úÖ Dual-flush toilet installed<br>
                      ‚úÖ All plumbing connected & tested<br>
                      ‚úÖ Full cleanup completed<br>
                      ‚úÖ Fixtures demonstrated to customer
                    </div>
                  </div>

                  <div style="background: rgba(70, 211, 138, 0.15); border: 2px dashed var(--accent-green); border-radius: 12px; padding: 1.25rem; text-align: center; margin-bottom: 1.5rem;">
                    <p style="font-size: 0.9rem; margin-bottom: 0.75rem; color: var(--text-muted);">Customer Signature</p>
                    <div style="font-family: 'Brush Script MT', cursive; font-size: 2rem; color: var(--accent-green); margin-bottom: 0.5rem;">
                      Emma Wilson
                    </div>
                    <small style="color: var(--text-muted);">Signed: Nov 22, 2025 4:35 PM</small>
                  </div>

                  <div class="customer-card">
                    <h5 style="margin-bottom: 0.75rem;">Package Summary</h5>
                    <div style="font-size: 0.9rem; line-height: 1.6;">
                      <strong>Package:</strong> Bathroom Refresh<br>
                      <strong>Value:</strong> $4,850<br>
                      <strong>Timeline:</strong> 7 days (order to completion)<br>
                      <strong>Service Orders:</strong> 2 (TV + Installation)<br>
                      <strong>Quality:</strong> Approved first try<br>
                      <strong>Warranty:</strong> 2 years
                    </div>
                  </div>

                  <div class="info-panel">
                    <h4>üìÑ Your Documents</h4>
                    <p style="font-size: 0.9rem;">
                      All documents sent to your email:<br>
                      ‚Ä¢ Confirmation visit report (TV-6001)<br>
                      ‚Ä¢ Installation completion certificate (SO-45950)<br>
                      ‚Ä¢ Before & after photos (14 total)<br>
                      ‚Ä¢ Warranty information<br>
                      ‚Ä¢ Care & maintenance guide
                    </p>
                  </div>
                </div>
              </div>

              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title">
                    <div class="view-icon">üéâ</div>
                    <div>
                      <h3>Package Closed</h3>
                      <p>System Automation</p>
                    </div>
                  </div>
                  <span class="view-badge badge-operator">System</span>
                </div>
                <div class="view-content">
                  <h4 style="margin-bottom: 1rem;">Automated Package Closure</h4>

                  <div class="tracking-timeline">
                    <div class="tracking-step">
                      <h5>‚úÖ WCF Signed by Customer</h5>
                      <p>Emma Wilson approved installation</p>
                      <small>Nov 22, 4:35 PM</small>
                    </div>
                    <div class="tracking-step">
                      <h5>‚úÖ SO #45950 Closed</h5>
                      <p>Installation marked complete</p>
                      <small>4:35:05 PM</small>
                    </div>
                    <div class="tracking-step">
                      <h5>‚úÖ Package Finalized</h5>
                      <p>Both TV-6001 and SO-45950 completed</p>
                      <small>4:35:10 PM</small>
                    </div>
                    <div class="tracking-step">
                      <h5>‚úÖ Payment Released</h5>
                      <p>$4,850 distributed to BathPro (install) + InstallPro (TV)</p>
                      <small>4:35:15 PM</small>
                    </div>
                    <div class="tracking-step">
                      <h5>‚úÖ Customer Notifications Sent</h5>
                      <p>Thank you SMS + email with documents</p>
                      <small>4:35:20 PM</small>
                    </div>
                    <div class="tracking-step">
                      <h5>‚úÖ Performance Updated</h5>
                      <p>Crew scores updated, warranty registered</p>
                      <small>4:35:30 PM</small>
                    </div>
                  </div>

                  <div class="customer-card" style="background: rgba(70, 211, 138, 0.1); border: 2px solid var(--accent-green); margin-top: 1.5rem;">
                    <h5 style="color: var(--accent-green); margin-bottom: 0.75rem;">Package Performance Metrics</h5>
                    <div style="font-size: 0.9rem; line-height: 1.8;">
                      <strong>Total Duration:</strong> 7 days (order to completion)<br>
                      <strong>Service Orders:</strong> 2 executed flawlessly<br>
                      <strong>Crew Coordination:</strong> 2 providers, zero conflicts<br>
                      <strong>Customer Satisfaction:</strong> Signed first try<br>
                      <strong>TV-to-Install Delay:</strong> 5 days (optimal)<br>
                      <strong>Dependency Management:</strong> Automatic, zero manual intervention<br>
                      <strong>On-Time Delivery:</strong> 100%
                    </div>
                  </div>

                  <div class="info-panel" style="margin-top: 1.5rem;">
                    <h4>üéØ Key Success Factors</h4>
                    <p>
                      1. <strong>TV Confirmation prevented issues</strong> - Site verified before materials ordered<br>
                      2. <strong>Automatic dependency resolution</strong> - Installation auto-released after TV approval<br>
                      3. <strong>Data reuse across SOs</strong> - TV measurements/photos shared with install crew<br>
                      4. <strong>Package-aware crew matching</strong> - Selected bathroom specialists, not generalists
                    </p>
                  </div>

                  <div class="action-buttons" style="margin-top: 1.5rem;">
                    <button class="btn btn-primary" onclick="resetDemo()">
                      üîÑ Try Another Scenario
                    </button>
                    <button class="btn btn-secondary" onclick="window.location.href='index.html'">
                      ‚Üê Back to Home
                    </button>
                  </div>
                </div>
              </div>
            </div>
          `
        }
      ],

      // Complex Multi-Service Installation Workflow - Kitchen Renovation
      complex: [
        {
          title: "Complex Order - 8 Service Orders Created",
          progress: 0,
          content: `
            <div class="demo-layout">
              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title"><div class="view-icon">üèóÔ∏è</div><div><h3>Customer Order</h3><p>Full Kitchen Renovation</p></div></div>
                  <span class="view-badge badge-customer">Customer</span>
                </div>
                <div class="view-content">
                  <div class="customer-card">
                    <h5>Complete Kitchen Renovation Package</h5>
                    <p style="margin: 0.75rem 0; color: var(--text-muted);">8-service coordinated installation with dependencies</p>
                    <div style="font-size: 0.9rem; line-height: 1.8;">
                      <strong>Services included:</strong><br>
                      1. Demolition (old kitchen removal)<br>
                      2. Plumbing rough-in<br>
                      3. Electrical work<br>
                      4. Cabinet installation<br>
                      5. Countertop (granite)<br>
                      6. Appliance installation (5 items)<br>
                      7. Backsplash tiling<br>
                      8. Final inspection & quality gate
                    </div>
                  </div>
                </div>
              </div>
              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title"><div class="view-icon">üéØ</div><div><h3>System Orchestration</h3><p>Dependency Graph Created</p></div></div>
                  <span class="view-badge badge-operator">System</span>
                </div>
                <div class="view-content">
                  <div class="customer-card" style="background: rgba(167, 139, 250, 0.1); border: 2px solid var(--accent-purple);">
                    <h5 style="color: var(--accent-purple);">8 Service Orders - Sequenced Execution</h5>
                    <div style="font-size: 0.85rem; line-height: 1.8; font-family: monospace;">
                      SO-7001 Demolition ‚Üí Ready<br>
                      SO-7002 Plumbing ‚Üí Blocked by SO-7001<br>
                      SO-7003 Electrical ‚Üí Blocked by SO-7001<br>
                      SO-7004 Cabinets ‚Üí Blocked by SO-7002, SO-7003<br>
                      SO-7005 Countertop ‚Üí Blocked by SO-7004<br>
                      SO-7006 Appliances ‚Üí Blocked by SO-7002, SO-7003<br>
                      SO-7007 Backsplash ‚Üí Blocked by SO-7005<br>
                      SO-7008 Inspection ‚Üí Blocked by all above
                    </div>
                  </div>
                  <div class="action-buttons" style="margin-top: 1.5rem;">
                    <button class="btn btn-primary" onclick="nextStep()">Start Demolition ‚Üí</button>
                  </div>
                </div>
              </div>
            </div>
          `
        },
        {
          title: "Step 1-2: Demolition & Rough-In Complete",
          progress: 25,
          notification: { title: "Plumbing & Electrical Released", body: "Demolition complete. Parallel rough-in work starting.", action: "View" },
          content: `
            <div class="demo-layout">
              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title"><div class="view-icon">üî®</div><div><h3>Progress Update</h3></div></div>
                  <span class="view-badge badge-crew">Field</span>
                </div>
                <div class="view-content">
                  <div class="customer-card" style="background: rgba(70, 211, 138, 0.1);">
                    <h5>‚úÖ Demolition Complete (SO-7001)</h5>
                    <p style="font-size: 0.9rem; margin-top: 0.5rem;">Old cabinets, countertops removed. Space ready for rough-in work.</p>
                  </div>
                  <div class="customer-card" style="background: rgba(255, 203, 50, 0.1);">
                    <h5>üîÑ Plumbing Rough-In (SO-7002) - In Progress</h5>
                    <p style="font-size: 0.9rem;">Installing supply lines for sink, dishwasher, refrigerator.</p>
                  </div>
                  <div class="customer-card" style="background: rgba(255, 203, 50, 0.1);">
                    <h5>üîÑ Electrical Work (SO-7003) - In Progress</h5>
                    <p style="font-size: 0.9rem;">Outlets, lighting circuits, appliance connections.</p>
                  </div>
                </div>
              </div>
              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title"><div class="view-icon">üõ∞</div><div><h3>Operator View</h3></div></div>
                  <span class="view-badge badge-operator">Operator</span>
                </div>
                <div class="view-content">
                  <div class="info-panel">
                    <h4>Parallel Execution</h4>
                    <p>Plumbing and electrical crews working simultaneously. Both must complete before cabinet installation can begin.</p>
                  </div>
                  <div class="action-buttons" style="margin-top: 1rem;">
                    <button class="btn btn-primary" onclick="nextStep()">Complete Rough-In ‚Üí</button>
                  </div>
                </div>
              </div>
            </div>
          `
        },
        {
          title: "Step 3-4: Cabinets & Countertop Installed",
          progress: 50,
          notification: { title: "Major Milestones", body: "Cabinets and granite countertop installed successfully", action: "View" },
          content: `
            <div class="demo-layout">
              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title"><div class="view-icon">üèóÔ∏è</div><div><h3>Installation Progress</h3></div></div>
                  <span class="view-badge badge-crew">Field</span>
                </div>
                <div class="view-content">
                  <div class="customer-card" style="background: rgba(70, 211, 138, 0.1);">
                    <h5>‚úÖ Cabinets Installed (SO-7004)</h5>
                    <p style="font-size: 0.9rem;">Upper and lower cabinets mounted, leveled, secured.</p>
                  </div>
                  <div class="customer-card" style="background: rgba(70, 211, 138, 0.1);">
                    <h5>‚úÖ Granite Countertop (SO-7005)</h5>
                    <p style="font-size: 0.9rem;">Countertop fabricated and installed with sink cutouts.</p>
                  </div>
                  <div class="info-panel">
                    <h4>Next: Appliances & Backsplash</h4>
                    <p>Appliance installation can proceed now. Backsplash waits for countertop completion.</p>
                  </div>
                  <div class="action-buttons" style="margin-top: 1rem;">
                    <button class="btn btn-primary" onclick="nextStep()">Install Appliances ‚Üí</button>
                  </div>
                </div>
              </div>
              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title"><div class="view-icon">üìä</div><div><h3>Project Status</h3></div></div>
                  <span class="view-badge badge-operator">Operator</span>
                </div>
                <div class="view-content">
                  <div style="font-size: 0.9rem; line-height: 1.8;">
                    <strong>Completed:</strong> 5 of 8 SOs<br>
                    <strong>In Progress:</strong> 0<br>
                    <strong>Pending:</strong> 3 (Appliances, Backsplash, Inspection)<br>
                    <strong>Timeline:</strong> Day 4 of 6<br>
                    <strong>Status:</strong> On schedule
                  </div>
                </div>
              </div>
            </div>
          `
        },
        {
          title: "Final Steps: Appliances, Backsplash, Inspection",
          progress: 100,
          notification: { title: "Kitchen Complete!", body: "All 8 service orders completed. Quality gate passed.", action: "View" },
          content: `
            <div class="demo-layout">
              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title"><div class="view-icon">‚úÖ</div><div><h3>Project Complete</h3></div></div>
                  <span class="view-badge badge-customer">Customer</span>
                </div>
                <div class="view-content">
                  <div class="customer-card" style="background: rgba(70, 211, 138, 0.15); border: 2px solid var(--accent-green); text-align: center;">
                    <div style="font-size: 3rem;">‚úÖ</div>
                    <h4 style="color: var(--accent-green);">Kitchen Renovation Complete!</h4>
                  </div>
                  <div class="customer-card">
                    <h5>All Services Completed:</h5>
                    <div style="font-size: 0.9rem; line-height: 1.8;">
                      ‚úÖ Demolition (SO-7001)<br>
                      ‚úÖ Plumbing (SO-7002)<br>
                      ‚úÖ Electrical (SO-7003)<br>
                      ‚úÖ Cabinets (SO-7004)<br>
                      ‚úÖ Countertop (SO-7005)<br>
                      ‚úÖ Appliances (SO-7006) - 5 units<br>
                      ‚úÖ Backsplash (SO-7007)<br>
                      ‚úÖ Final Inspection (SO-7008)
                    </div>
                  </div>
                </div>
              </div>
              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title"><div class="view-icon">üéâ</div><div><h3>Orchestration Success</h3></div></div>
                  <span class="view-badge badge-operator">System</span>
                </div>
                <div class="view-content">
                  <div class="customer-card" style="background: rgba(167, 139, 250, 0.1); border: 2px solid var(--accent-purple);">
                    <h5 style="color: var(--accent-purple);">Complex Workflow Metrics</h5>
                    <div style="font-size: 0.9rem; line-height: 1.8;">
                      <strong>Total SOs:</strong> 8 coordinated<br>
                      <strong>Crews:</strong> 6 different providers<br>
                      <strong>Dependencies:</strong> 12 automatic resolutions<br>
                      <strong>Duration:</strong> 6 days<br>
                      <strong>Delays:</strong> 0<br>
                      <strong>Manual Interventions:</strong> 0
                    </div>
                  </div>
                  <div class="action-buttons" style="margin-top: 1.5rem;">
                    <button class="btn btn-primary" onclick="resetDemo()">üîÑ Try Another Scenario</button>
                  </div>
                </div>
              </div>
            </div>
          `
        }
      ],

      // Rework Scenario - Service Recovery
      rework: [
        {
          title: "Installation Failed WCF - Issue Reported",
          progress: 0,
          content: `
            <div class="demo-layout">
              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title"><div class="view-icon">‚ö†Ô∏è</div><div><h3>WCF Rejection</h3><p>Customer Refused Sign-Off</p></div></div>
                  <span class="view-badge badge-customer">Customer</span>
                </div>
                <div class="view-content">
                  <div class="customer-card" style="background: rgba(255, 107, 107, 0.1); border: 2px solid var(--accent-red);">
                    <h5 style="color: var(--accent-red);">Installation Issue Reported</h5>
                    <p style="margin: 0.75rem 0;">Oven installation - SO #48100</p>
                    <div style="font-size: 0.9rem; line-height: 1.8;">
                      <strong>Issue:</strong> Oven door not closing properly<br>
                      <strong>Customer:</strong> Lisa Chen<br>
                      <strong>Crew:</strong> TechFix Team B<br>
                      <strong>Date:</strong> Nov 20, 2025
                    </div>
                  </div>
                  <div class="info-panel">
                    <h4>What happens now?</h4>
                    <p>YellowGrid automatically creates a rework service order to resolve the issue at no extra cost.</p>
                  </div>
                </div>
              </div>
              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title"><div class="view-icon">üéØ</div><div><h3>Automatic Rework Creation</h3></div></div>
                  <span class="view-badge badge-operator">System</span>
                </div>
                <div class="view-content">
                  <div class="tracking-timeline">
                    <div class="tracking-step">
                      <h5>‚ùå WCF Rejected</h5>
                      <p>Customer refused to sign - door alignment issue</p>
                      <small>Nov 20, 4:30 PM</small>
                    </div>
                    <div class="tracking-step">
                      <h5>‚úÖ SO #48100 ‚Üí Pending Rework</h5>
                      <p>Original SO status updated</p>
                      <small>4:30:05 PM</small>
                    </div>
                    <div class="tracking-step">
                      <h5>‚úÖ Rework SO #RW-48100 Created</h5>
                      <p>High priority rework order generated</p>
                      <small>4:30:10 PM</small>
                    </div>
                    <div class="tracking-step pending">
                      <h5>‚è≥ Crew Assignment</h5>
                      <p>Matching crew for rework visit...</p>
                      <small>In progress...</small>
                    </div>
                  </div>
                  <div class="action-buttons" style="margin-top: 1.5rem;">
                    <button class="btn btn-primary" onclick="nextStep()">Assign Rework Crew ‚Üí</button>
                  </div>
                </div>
              </div>
            </div>
          `
        },
        {
          title: "Rework Crew Assigned - Expedited Scheduling",
          progress: 33,
          notification: { title: "Rework Scheduled", body: "Senior crew assigned. Rework visit tomorrow morning.", action: "View" },
          content: `
            <div class="demo-layout">
              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title"><div class="view-icon">üì±</div><div><h3>Customer Notification</h3></div></div>
                  <span class="view-badge badge-customer">Customer</span>
                </div>
                <div class="view-content">
                  <div class="customer-card" style="background: rgba(74, 158, 255, 0.1); border: 2px solid var(--accent-blue);">
                    <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem;">
                      <span style="font-size: 2rem;">üí¨</span>
                      <div>
                        <div style="font-size: 0.75rem; color: var(--text-muted);">From: YellowGrid</div>
                        <div style="font-size: 0.85rem;">Nov 20, 5:00 PM</div>
                      </div>
                    </div>
                    <p style="line-height: 1.6; font-size: 0.95rem;">
                      Hi Lisa, we apologize for the installation issue. Our senior technician will visit <strong>tomorrow at 10:00 AM</strong> to fix the oven door alignment at no charge. Thank you for your patience.
                    </p>
                  </div>
                  <div class="info-panel">
                    <h4>Priority Service</h4>
                    <p>Rework orders get expedited scheduling (within 24 hours) and senior crew assignment.</p>
                  </div>
                </div>
              </div>
              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title"><div class="view-icon">üë∑</div><div><h3>Senior Crew Assigned</h3></div></div>
                  <span class="view-badge badge-crew">Crew</span>
                </div>
                <div class="view-content">
                  <div class="customer-card">
                    <h5>Rework Assignment - SO #RW-48100</h5>
                    <div style="font-size: 0.9rem; line-height: 1.8; margin-top: 0.75rem;">
                      <strong>Crew:</strong> ProFix Senior Team (93/100 score)<br>
                      <strong>Technician:</strong> David Lee (10 years exp.)<br>
                      <strong>Scheduled:</strong> Nov 21, 10:00 AM<br>
                      <strong>Priority:</strong> High<br>
                      <strong>Original Issue:</strong> Door alignment<br>
                      <strong>Previous Crew Notes:</strong> Available for review
                    </div>
                  </div>
                  <div class="action-buttons" style="margin-top: 1.5rem;">
                    <button class="btn btn-primary" onclick="nextStep()">Complete Rework ‚Üí</button>
                  </div>
                </div>
              </div>
            </div>
          `
        },
        {
          title: "Rework Complete - Both SOs Closed",
          progress: 100,
          notification: { title: "Rework Success!", body: "Issue resolved. Customer approved. Original and rework SOs closed.", action: "View" },
          content: `
            <div class="demo-layout">
              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title"><div class="view-icon">‚úÖ</div><div><h3>Customer Approval</h3></div></div>
                  <span class="view-badge badge-customer">Customer</span>
                </div>
                <div class="view-content">
                  <div class="customer-card" style="background: rgba(70, 211, 138, 0.15); border: 2px solid var(--accent-green); text-align: center;">
                    <div style="font-size: 3rem;">‚úÖ</div>
                    <h4 style="color: var(--accent-green);">Issue Resolved!</h4>
                    <p style="color: var(--text-muted); margin-top: 0.5rem;">Oven door now working perfectly</p>
                  </div>
                  <div style="background: rgba(70, 211, 138, 0.15); border: 2px dashed var(--accent-green); border-radius: 12px; padding: 1.25rem; text-align: center; margin-top: 1.5rem;">
                    <p style="font-size: 0.9rem; margin-bottom: 0.75rem; color: var(--text-muted);">Customer Signature</p>
                    <div style="font-family: 'Brush Script MT', cursive; font-size: 2rem; color: var(--accent-green); margin-bottom: 0.5rem;">Lisa Chen</div>
                    <small style="color: var(--text-muted);">Signed: Nov 21, 10:35 AM</small>
                  </div>
                  <div class="info-panel" style="margin-top: 1.5rem;">
                    <h4>Resolution Summary</h4>
                    <p style="font-size: 0.9rem;">
                      ‚Ä¢ Door hinges realigned<br>
                      ‚Ä¢ Seal checked and adjusted<br>
                      ‚Ä¢ Full testing completed<br>
                      ‚Ä¢ Time: 25 minutes<br>
                      ‚Ä¢ No charge to customer
                    </p>
                  </div>
                </div>
              </div>
              <div class="stakeholder-view">
                <div class="view-header">
                  <div class="view-title"><div class="view-icon">üéâ</div><div><h3>Service Recovery Complete</h3></div></div>
                  <span class="view-badge badge-operator">System</span>
                </div>
                <div class="view-content">
                  <div class="tracking-timeline">
                    <div class="tracking-step">
                      <h5>‚úÖ Rework Completed</h5>
                      <p>Senior technician fixed alignment issue</p>
                      <small>Nov 21, 10:35 AM</small>
                    </div>
                    <div class="tracking-step">
                      <h5>‚úÖ WCF Signed</h5>
                      <p>Customer approved rework</p>
                      <small>10:35 AM</small>
                    </div>
                    <div class="tracking-step">
                      <h5>‚úÖ SO #RW-48100 Closed</h5>
                      <p>Rework service order completed</p>
                      <small>10:35:05 AM</small>
                    </div>
                    <div class="tracking-step">
                      <h5>‚úÖ SO #48100 Closed</h5>
                      <p>Original service order finalized</p>
                      <small>10:35:10 AM</small>
                    </div>
                    <div class="tracking-step">
                      <h5>‚úÖ Crew Performance Updated</h5>
                      <p>Original crew flagged, rework crew rewarded</p>
                      <small>10:35:15 AM</small>
                    </div>
                  </div>
                  <div class="customer-card" style="background: rgba(70, 211, 138, 0.1); border: 2px solid var(--accent-green); margin-top: 1.5rem;">
                    <h5 style="color: var(--accent-green);">Rework Metrics</h5>
                    <div style="font-size: 0.9rem; line-height: 1.8;">
                      <strong>Issue Detected:</strong> Nov 20, 4:30 PM<br>
                      <strong>Rework Scheduled:</strong> Nov 21, 10:00 AM<br>
                      <strong>Resolution Time:</strong> 17.5 hours<br>
                      <strong>Customer Downtime:</strong> Minimized<br>
                      <strong>Additional Cost:</strong> $0 to customer<br>
                      <strong>Final Outcome:</strong> Customer satisfied
                    </div>
                  </div>
                  <div class="info-panel" style="margin-top: 1.5rem;">
                    <h4>üîÑ Service Recovery Success</h4>
                    <p>
                      YellowGrid's automatic rework system:<br>
                      ‚Ä¢ Instant SO creation on WCF rejection<br>
                      ‚Ä¢ Expedited scheduling (< 24h)<br>
                      ‚Ä¢ Senior crew assignment<br>
                      ‚Ä¢ Zero customer friction<br>
                      ‚Ä¢ Performance tracking for quality improvement
                    </p>
                  </div>
                  <div class="action-buttons" style="margin-top: 1.5rem;">
                    <button class="btn btn-primary" onclick="resetDemo()">üîÑ Try Another Scenario</button>
                    <button class="btn btn-secondary" onclick="window.location.href='index.html'">‚Üê Back to Home</button>
                  </div>
                </div>
              </div>
            </div>
          `
        }
      ]
    };

    function startDemo(type) {
      currentDemo = type;
      currentStep = 0;
      document.getElementById('scenarioSelection').style.display = 'none';
      document.getElementById('demoSimple').classList.add('active');
      renderStep();
    }

    function resetDemo() {
      currentDemo = '';
      currentStep = 0;
      document.getElementById('scenarioSelection').style.display = 'grid';
      document.getElementById('demoSimple').classList.remove('active');
      hideNotification();
    }

    function nextStep() {
      if (currentStep < stepContent[currentDemo].length - 1) {
        currentStep++;
        renderStep();
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }
    }

    function renderStep() {
      const step = stepContent[currentDemo][currentStep];

      // Update progress bar
      document.getElementById('progressFill').style.width = step.progress + '%';

      // Update step indicators
      for (let i = 0; i < 5; i++) {
        const stepEl = document.getElementById('step' + i);
        stepEl.classList.remove('active', 'completed');
        if (i < currentStep) {
          stepEl.classList.add('completed');
        } else if (i === currentStep) {
          stepEl.classList.add('active');
        }
      }

      // Update content
      document.getElementById('stepContent').innerHTML = step.content;
      document.getElementById('stepContent').classList.add('fade-in');

      // Update next button
      const nextBtn = document.getElementById('nextBtn');
      if (currentStep === stepContent[currentDemo].length - 1) {
        nextBtn.style.display = 'none';
      } else {
        nextBtn.style.display = 'inline-flex';
      }

      // Show notification if exists
      if (step.notification) {
        setTimeout(() => showNotification(step.notification), 800);
      }
    }

    function showNotification(notif) {
      document.getElementById('notifTitle').textContent = notif.title;
      document.getElementById('notifBody').textContent = notif.body;
      document.getElementById('notifAction').textContent = notif.action;
      document.getElementById('notificationToast').classList.add('show');

      setTimeout(() => {
        hideNotification();
      }, 5000);
    }

    function hideNotification() {
      document.getElementById('notificationToast').classList.remove('show');
    }
  </script>
</body>
</html>
